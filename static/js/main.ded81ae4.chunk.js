(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{183:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(2),c=s(61),i=s.n(c),r=(s(71),s(4)),o=s(5),l=s(8),d=s(7),h=s(6),u=s(16),j=s(9),b=(s(37),s(72),s(65)),p=s(23),m=s.n(p),g="https://eshopapi.ddns.net/api/auth/",O=new(function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(e,t){return m.a.post(g+"signin",{display_name:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,s){return m.a.post(g+"signup",{display_name:e,email:t,password:s})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),x=s(27),v=s.n(x),f=s(18),y=s.n(f),k=s(28),N=s.n(k),C=function(e){if(!e)return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},S=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).handleLogin=a.handleLogin.bind(Object(l.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(l.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(l.a)(a)),a.state={username:"",password:"",loading:!1,message:""},a}return Object(o.a)(s,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?O.login(this.state.username,this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:s})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"col-md-12",children:Object(a.jsxs)("div",{className:"card card-container",children:[Object(a.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(a.jsxs)(v.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)(y.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[C]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)(y.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[C]})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsxs)("button",{className:"btn btn-primary btn-block",disabled:this.state.loading,children:[this.state.loading&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(a.jsx)("span",{children:"Login"})]})}),this.state.message&&Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(a.jsx)(N.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),s}(n.Component),w=s(62),P=function(e){if(!e)return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},B=function(e){if(!Object(w.isEmail)(e))return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},A=function(e){if(e.length<3||e.length>20)return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},_=function(e){if(e.length<6||e.length>40)return Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},U=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).handleRegister=a.handleRegister.bind(Object(l.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(l.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(l.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(l.a)(a)),a.state={username:"",email:"",password:"",successful:!1,message:""},a}return Object(o.a)(s,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&O.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:s})}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"col-md-12",children:Object(a.jsxs)("div",{className:"card card-container",children:[Object(a.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(a.jsxs)(v.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t},children:[!this.state.successful&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)(y.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[P,A]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)(y.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[P,B]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)(y.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[P,_]})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("button",{className:"btn btn-primary btn-block",children:"Sign Up"})})]}),this.state.message&&Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:this.state.message})}),Object(a.jsx)(N.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),s}(n.Component),T=s(63),I=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={},e.submit=e.submit.bind(Object(l.a)(e)),e}return Object(o.a)(s,[{key:"submit",value:function(e){var t=e.target[0].value;this.props.history.push("/search/"+t),this.props.notSearch(),e.preventDefault()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("form",{action:"#",method:"#",role:"search",onSubmit:this.submit,children:Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("input",{className:"form-control form-control-search",placeholder:"Search for products or use the navigation above. . .",name:"srch-term",id:"ed-srch-term",type:"text"}),Object(a.jsx)("div",{className:"input-btn",children:Object(a.jsx)("button",{type:"submit",id:"searchbtn",children:Object(a.jsx)(T.a,{})})})]})})})}}]),s}(n.Component),D=(s.p,function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={content:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",style:{display:"flex",justifyContent:"center",margin:"auto",padding:"60px 15px",background:"var(--background-2)"},children:Object(a.jsx)("header",{className:"",style:{width:"100%"},children:Object(a.jsx)(I,{history:this.props.history,notSearch:this.props.notSearch})})})}}]),s}(n.Component)),R=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={redirect:null,userReady:!1,currentUser:{username:""},savedBaskets:[]},a}return Object(o.a)(s,[{key:"getBaskets",value:function(){fetch()}},{key:"componentDidMount",value:function(){var e=O.getCurrentUser();e||this.setState({redirect:"/home"}),this.setState({currentUser:e,userReady:!0})}},{key:"render",value:function(){if(this.state.redirect)return Object(a.jsx)(j.a,{to:this.state.redirect});var e=this.state,t=e.currentUser,s=e.savedBaskets.map((function(e){}));return Object(a.jsxs)("div",{className:"container",children:[this.state.userReady?Object(a.jsxs)("div",{children:[Object(a.jsxs)("header",{className:"jumbotron",children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)("strong",{children:t.display_name}),"'s Profile"]}),Object(a.jsx)(u.b,{to:"/settings",className:"button",children:"Edit Settings"})]}),Object(a.jsx)("hr",{})]}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Saved Baskets"}),s]})]})}}]),s}(n.Component);function F(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var L=new(function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"getUserBoard",value:function(){return m.a.get("https://eshopapi.ddns.net/api/test/user",{headers:F()})}}]),e}()),E=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={content:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;L.getUserBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("header",{className:"jumbotron",children:Object(a.jsx)("h3",{children:this.state.content})})})}}]),s}(n.Component),M=s(20),z=s.n(M),J=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={shops:{asda:"https://upload.wikimedia.org/wikipedia/en/thumb/9/91/Asda_logo.svg/300px-Asda_logo.svg.png",tesco:"https://upload.wikimedia.org/wikipedia/en/thumb/b/b0/Tesco_Logo.svg/200px-Tesco_Logo.svg.png",aldi:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/AldiWorldwideLogo.svg/500px-AldiWorldwideLogo.svg.png",sains:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Sainsbury%27s_Logo.svg",coop:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/The_Co-Operative_clover_leaf_logo.svg/500px-The_Co-Operative_clover_leaf_logo.svg.png"}},e}return Object(o.a)(s,[{key:"getShop",value:function(){var e=this.props.product.shop;return this.state.shops[e]}},{key:"findRibbon",value:function(){switch(this.props.index){case 1:return Object(a.jsx)(z.a,{position:"top-left",fontColor:"white",backgroundColor:"#D6AF36",style:{fontSize:"10px"},children:"Best Value"});case 2:return Object(a.jsx)(z.a,{position:"top-left",fontColor:"white",backgroundColor:"#b4b4b4",style:{fontSize:"10px"},children:"2nd"});case 3:return Object(a.jsx)(z.a,{position:"top-left",fontColor:"white",backgroundColor:"#6a3805",style:{fontSize:"10px"},children:"3rd"});default:return}}},{key:"render",value:function(){return Object(a.jsx)("a",{href:this.props.product.url,className:"product",children:Object(a.jsxs)("div",{className:"product2",style:{display:"flex",position:"relative",width:"80%",margin:"auto",border:"1px outset black",borderCollapse:"collapse"},children:[this.findRibbon(),Object(a.jsx)("div",{className:"typeSec",children:Object(a.jsx)("img",{src:this.getShop(),alt:this.props.product.shop,className:"ShopIcon"})}),Object(a.jsx)("div",{style:{borderLeft:"1px solid #dbdbdb",marginRight:"20px"}}),Object(a.jsxs)("div",{className:"InfoSec",children:[Object(a.jsx)("p",{children:this.props.product.product_name}),Object(a.jsxs)("p",{style:{fontSize:"0.8em"},children:["Price: ",this.props.product.product_price]})]})]})})}}]),s}(n.Component),W=s(24),q=s.n(W),G=s(21),V=s.n(G),H=s(36),K=s.n(H),Q=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{style:{width:"15%",display:"flex",float:"left",flexGrow:"2",flexDirection:"column"},children:Object(a.jsxs)("form",{className:this.props.loading?"hidden":"form-visable",onSubmit:this.props.submitRefiner,children:[Object(a.jsxs)("p",{children:[this.props.products," products found"]}),Object(a.jsx)("hr",{}),Object(a.jsx)("input",{type:"text",name:"term"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"shops",children:[Object(a.jsx)("label",{htmlFor:"asda",children:"Asda"}),Object(a.jsx)("input",{type:"checkbox",name:"asda"}),Object(a.jsx)("label",{htmlFor:"aldi",children:"Aldi"}),Object(a.jsx)("input",{type:"checkbox",name:"aldi"}),Object(a.jsx)("label",{htmlFor:"tesco",children:"Tesco"}),Object(a.jsx)("input",{type:"checkbox",name:"tesco"}),Object(a.jsx)("label",{htmlFor:"sains",children:"Sainsburys"}),Object(a.jsx)("input",{type:"checkbox",name:"sains"}),Object(a.jsx)("label",{htmlFor:"coop",children:"CoOp"}),Object(a.jsx)("input",{type:"checkbox",name:"coop"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("input",{type:"submit",value:"Update Browse"})]})})}}]),s}(n.Component),X=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={open:!1},e}return Object(o.a)(s,[{key:"toggleMenu",value:function(){this.state.open?this.setState({open:!1}):this.setState({open:!0})}},{key:"getVisable",value:function(){}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:this.props.loading?"hidden":"",children:[Object(a.jsx)("button",{onClick:this.toggleMenu.bind(this),children:"Refine Browse"}),Object(a.jsxs)("form",{className:this.state.open?"form-visable-mob":"hidden",onSubmit:this.props.submitcefiner,children:[Object(a.jsxs)("p",{children:[this.props.products," products found"]}),Object(a.jsx)("hr",{}),Object(a.jsx)("input",{type:"text",name:"term"}),Object(a.jsx)("div",{className:"shops",children:Object(a.jsxs)("tr",{children:[Object(a.jsxs)("tc",{children:[Object(a.jsx)("label",{htmlFor:"asda",children:"Asda"}),Object(a.jsx)("input",{type:"checkbox",name:"asda"})]}),Object(a.jsxs)("tc",{children:[Object(a.jsx)("label",{htmlFor:"aldi",children:"Aldi"}),Object(a.jsx)("input",{type:"checkbox",name:"aldi"})]}),Object(a.jsxs)("tc",{children:[Object(a.jsx)("label",{htmlFor:"tesco",children:"Tesco"}),Object(a.jsx)("input",{type:"checkbox",name:"tesco"})]}),Object(a.jsxs)("tc",{children:[Object(a.jsx)("label",{htmlFor:"sains",children:"Sainsburys"}),Object(a.jsx)("input",{type:"checkbox",name:"sains"})]}),Object(a.jsxs)("tc",{children:[Object(a.jsx)("label",{htmlFor:"coop",children:"CoOp"}),Object(a.jsx)("input",{type:"checkbox",name:"coop"})]})]})}),Object(a.jsx)("input",{type:"submit",value:"Update Browse"})]})]})}}]),s}(n.Component),Y=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={loading:!0,reloading:!1,products:[],refine:{term:"",shops:{asda:"1",coop:"1",tesco:"1",aldi:"1",sains:"1"},orderby:"product_name"},currentPage:1,productsPerPage:100,upperPageBound:7,lowerPageBound:0,isPrevBtnActive:"disabled",isNextBtnActive:"",pageBound:7},e.handleClick=e.handleClick.bind(Object(l.a)(e)),e.btnDecrementClick=e.btnDecrementClick.bind(Object(l.a)(e)),e.btnIncrementClick=e.btnIncrementClick.bind(Object(l.a)(e)),e.btnNextClick=e.btnNextClick.bind(Object(l.a)(e)),e.btnPrevClick=e.btnPrevClick.bind(Object(l.a)(e)),e.setPrevAndNextBtnClass=e.setPrevAndNextBtnClass.bind(Object(l.a)(e)),e.submitRefiner=e.submitRefiner.bind(Object(l.a)(e)),e}return Object(o.a)(s,[{key:"callAPI",value:function(){var e=this;this.setState({reloading:!0}),fetch("https://eshopapi.ddns.net/api/browse",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.refine)}).then((function(e){return e.json()})).then((function(t){return e.setState({loading:!1,reloading:!1,products:t})}))}},{key:"componentDidUpdate",value:function(){q()("ul li.active").removeClass("active"),q()("ul li#"+this.state.currentPage).addClass("active")}},{key:"handleClick",value:function(e){var t=Number(e.target.id);this.setState({currentPage:t}),q()("ul li.active").removeClass("active"),q()("ul li#"+t).addClass("active"),this.setPrevAndNextBtnClass(t)}},{key:"setPrevAndNextBtnClass",value:function(e){var t=Math.ceil(this.state.products.length/this.state.productsPerPage);this.setState({isNextBtnActive:"disabled"}),this.setState({isPrevBtnActive:"disabled"}),t===e&&t>1?this.setState({isPrevBtnActive:""}):1===e&&t>1?this.setState({isNextBtnActive:""}):t>1&&(this.setState({isNextBtnActive:""}),this.setState({isPrevBtnActive:""}))}},{key:"btnIncrementClick",value:function(){this.setState({upperPageBound:this.state.upperPageBound+this.state.pageBound}),this.setState({lowerPageBound:this.state.lowerPageBound+this.state.pageBound});var e=this.state.upperPageBound+1;this.setState({currentPage:e}),this.setPrevAndNextBtnClass(e)}},{key:"btnDecrementClick",value:function(){this.setState({upperPageBound:this.state.upperPageBound-this.state.pageBound}),this.setState({lowerPageBound:this.state.lowerPageBound-this.state.pageBound});var e=this.state.upperPageBound-this.state.pageBound;this.setState({currentPage:e}),this.setPrevAndNextBtnClass(e)}},{key:"btnPrevClick",value:function(){(this.state.currentPage-1)%this.state.pageBound===0&&(this.setState({upperPageBound:this.state.upperPageBound-this.state.pageBound}),this.setState({lowerPageBound:this.state.lowerPageBound-this.state.pageBound}));var e=this.state.currentPage-1;this.setState({currentPage:e}),this.setPrevAndNextBtnClass(e)}},{key:"btnNextClick",value:function(){this.state.currentPage+1>this.state.upperPageBound&&(this.setState({upperPageBound:this.state.upperPageBound+this.state.pageBound}),this.setState({lowerPageBound:this.state.lowerPageBound+this.state.pageBound}));var e=this.state.currentPage+1;this.setState({currentPage:e}),this.setPrevAndNextBtnClass(e)}},{key:"submitRefiner",value:function(e){var t=this,s=e.target;this.setState({refine:{term:s[0].value,shops:{asda:s[1].checked?1:0,coop:s[5].checked?1:0,tesco:s[3].checked?1:0,aldi:s[2].checked?1:0,sains:s[4].checked?1:0},orderby:"product_name"}},(function(){t.callAPI()})),e.preventDefault()}},{key:"componentDidMount",value:function(){this.callAPI()}},{key:"render",value:function(){for(var e=this,t=this.state,s=t.products,n=t.currentPage,c=t.productsPerPage,i=t.upperPageBound,r=t.lowerPageBound,o=t.isPrevBtnActive,l=t.isNextBtnActive,d=n*c,h=d-c,u=s.slice(h,d).map((function(e){return Object(a.jsx)(J,{product:e},e.url)})),j=[],b=1;b<=Math.ceil(s.length/c);b++)j.push(b);var p=j.map((function(t){return 1===t&&1===n?Object(a.jsx)("li",{className:"page-item active",id:t,children:Object(a.jsx)("a",{href:"#",className:"page-link",onClick:e.handleClick,children:t})},t):t<i+1&&t>r?Object(a.jsx)("li",{className:"page-item",id:t,children:Object(a.jsx)("a",{href:"#",className:"page-link",id:t,onClick:e.handleClick,children:t})},t):void 0})),m=null;j.length>i&&(m=Object(a.jsx)("li",{className:"page-item",children:Object(a.jsx)("a",{href:"#",className:"page-link",onClick:this.btnIncrementClick,children:" \u2026 "})}));var g=null;r>=1&&(g=Object(a.jsx)("li",{className:"page-item",children:Object(a.jsx)("a",{href:"#",className:"page-link",onClick:this.btnDecrementClick,children:" \u2026 "})}));var O=null;O="disabled"===o?Object(a.jsx)("li",{className:o,children:Object(a.jsx)("span",{id:"btnPrev",className:"page-link disabled",style:{color:"grey"},children:" Prev "})}):Object(a.jsx)("li",{className:o,children:Object(a.jsx)("a",{href:"#",id:"btnPrev",className:"page-link",onClick:this.btnPrevClick,children:" Prev "})});var x=null;return x="disabled"===l?Object(a.jsx)("li",{className:l,children:Object(a.jsx)("span",{id:"btnNext",className:"page-link disabled",style:{color:"grey"},children:" Next "})}):Object(a.jsx)("li",{className:l,children:Object(a.jsx)("a",{href:"#",id:"btnNext",className:"page-link",onClick:this.btnNextClick,children:" Next "})}),Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(V.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"#123abc",loading:this.state.loading}),Object(a.jsxs)("p",{className:this.state.loading?"":"hidden",style:{textAlign:"center"},children:[Object(a.jsx)("br",{}),"Loading"]}),Object(a.jsxs)("div",{className:"browseProds",children:[Object(a.jsx)(K.a,{minWidth:1224,children:Object(a.jsx)(Q,{loading:this.state.loading,products:this.state.products.length,submitRefiner:this.submitRefiner})}),Object(a.jsx)(K.a,{maxWidth:1224,children:Object(a.jsx)(X,{loading:this.state.loading,products:this.state.products.length,submitRefiner:this.submitRefiner})}),Object(a.jsxs)("ul",{className:this.state.loading?"hidden":"xyz",children:[Object(a.jsx)(V.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"#123abc",loading:this.state.reloading}),Object(a.jsx)("div",{className:this.state.reloading?"hidden":"",children:u})]})]}),Object(a.jsxs)("ul",{className:this.state.loading||this.state.reloading?"hidden":"pagination",children:[O,g,p,m,x]})]})}}]),s}(n.Component),Z=(n.Component,function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={search:{term:""},results:[],loading:!0,reloading:!1},e}return Object(o.a)(s,[{key:"callAPI",value:function(){var e=this;this.setState({reloading:!0}),fetch("https://eshopapi.ddns.net/api/search",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.search)}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({loading:!1,reloading:!1,results:t})})).catch((function(t){console.log(t),e.setState({loading:!1,reloading:!1,results:[{url:"",product_name:"No Products Found for that name",product_price:"",product_additionals:"Search again for more results"}]})}))}},{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.term),this.setState({search:{term:this.props.match.params.term}},(function(){e.callAPI()}))}},{key:"render",value:function(){var e=this.state.results.map((function(e,t){return Object(a.jsx)(J,{product:e,index:t+1},e.url)}));return Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(V.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"#123abc",loading:this.state.loading}),Object(a.jsxs)("p",{className:this.state.loading?"":"hidden",style:{textAlign:"center"},children:[Object(a.jsx)("br",{}),"Loading"]}),Object(a.jsx)("br",{className:this.state.loading?"hidden":"xyx"}),Object(a.jsx)("h1",{className:this.state.loading?"hidden":"",style:{textAlign:"center"},children:"Search Results"}),Object(a.jsx)("hr",{className:this.state.loading?"hidden":""}),Object(a.jsx)("div",{className:"browseProds",children:Object(a.jsxs)("ul",{className:this.state.loading?"hidden":"xyx",children:[Object(a.jsx)(V.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"#123abc",loading:this.state.reloading}),Object(a.jsx)("div",{className:this.state.reloading?"hidden":"",children:e})]})})]})}}]),s}(n.Component)),$=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("h1",{children:[Object(a.jsx)("strong",{children:"404"})," not found"]})}}]),s}(n.Component),ee=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"setTheme",value:function(e){!0===e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))}},{key:"componentDidMount",value:function(){"dark"===(localStorage.getItem("theme")?localStorage.getItem("theme"):null)&&(document.getElementById("checkbox").checked=!0)}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("em",{children:"Theme (light/dark)"}),Object(a.jsx)("div",{class:"theme-switch-wrapper",children:Object(a.jsxs)("label",{class:"theme-switch",for:"checkbox",children:[Object(a.jsx)("input",{type:"checkbox",id:"checkbox",onChange:this.setTheme}),Object(a.jsx)("div",{class:"slider round"})]})})]})}}]),s}(n.Component),te=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).logOut=a.logOut.bind(Object(l.a)(a)),a.notSearch=a.notSearch.bind(Object(l.a)(a)),a.search=a.search.bind(Object(l.a)(a)),a.state={currentUser:void 0,search:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=O.getCurrentUser();this.getTheme(),console.log(window.location.href),"/"!==window.location.pathname&&"/home"!==window.location.pathname||this.setState({search:"Search"}),e&&this.setState({currentUser:e})}},{key:"notSearch",value:function(){this.setState({search:""})}},{key:"getTheme",value:function(){var e=localStorage.getItem("theme");console.log(),null===e?document.documentElement.setAttribute("data-theme","light"):document.documentElement.setAttribute("data-theme",e)}},{key:"search",value:function(){this.setState({search:"Search"})}},{key:"logOut",value:function(){this.setState({search:""}),O.logout()}},{key:"render",value:function(){var e=this,t=this.state.currentUser;return Object(a.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand navcolour",children:[Object(a.jsx)(u.b,{to:"/",className:"navbar-brand",onClick:this.search,children:Object(a.jsx)("img",{src:"EshopLogo1.png",alt:"Eshop Logo",style:{height:"40px"}})}),Object(a.jsx)("div",{className:"navbar-nav mr-auto",children:Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(u.b,{to:"/browse",className:"nav-link",onClick:this.notSearch,children:"Browse"})})}),t?Object(a.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(a.jsx)("li",{className:"nav-item",style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(a.jsx)(u.b,{to:"/profile",onClick:this.notSearch,style:{display:"flex",color:"var(--text-1)"},children:Object(a.jsx)(b.a,{style:{height:"1.1em",width:"1.1em"}})})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("a",{href:"/login",className:"nav-link",onClick:this.logOut,children:"Logout"})})]}):Object(a.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(u.b,{to:"/login",className:"nav-link",onClick:this.notSearch,children:"Login"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(u.b,{to:"/register",className:"nav-link",onClick:this.notSearch,children:"Sign Up"})})]})]}),Object(a.jsx)("div",{className:this.state.search,style:{display:"flex",flexGrow:"2",justifyContent:"center"},children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:["/","/home"],render:function(t){return Object(a.jsx)(D,{notSearch:e.notSearch,history:t.history,location:t.location,match:t.match})}}),Object(a.jsx)(j.b,{exact:!0,path:"/login",component:S}),Object(a.jsx)(j.b,{exact:!0,path:"/register",component:U}),Object(a.jsx)(j.b,{path:"/search/:term",component:Z}),Object(a.jsx)(j.b,{exact:!0,path:"/profile",component:R}),Object(a.jsx)(j.b,{exact:!0,path:"/settings",component:ee}),Object(a.jsx)(j.b,{path:"/user",component:E}),Object(a.jsx)(j.b,{path:"/browse",component:Y}),Object(a.jsx)(j.b,{component:$})]})})]})}}]),s}(n.Component);i.a.render(Object(a.jsx)(u.a,{children:Object(a.jsx)(te,{})}),document.getElementById("root"))},71:function(e,t,s){},72:function(e,t,s){}},[[183,1,2]]]);
//# sourceMappingURL=main.ded81ae4.chunk.js.map