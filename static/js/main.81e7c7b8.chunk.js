(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{204:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s(30),i=s.n(n),r=(s(79),s(5)),o=s(6),c=s(9),l=s(8),h=s(7),d=s(13),u=s(10),b=(s(34),s(80),s(32)),p=s.n(b),j="https://eshopapi.ryananderson.uk/api/auth/",m=new(function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(e,t){return p.a.post(j+"signin",{display_name:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,s){return p.a.post(j+"signup",{display_name:e,email:t,password:s})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),g=s(17),v=s.n(g),x=s(36),O=s.n(x),f=s(23),y=s.n(f),k=s(37),w=s.n(k),S=s(1),N=function(e){if(!e)return Object(S.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},C=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).handleLogin=a.handleLogin.bind(Object(c.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(c.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(c.a)(a)),a.state={username:"",password:"",loading:!1,message:""},a}return Object(o.a)(s,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?m.login(this.state.username,this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:s})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(S.jsx)("div",{className:"col-md-12",children:Object(S.jsxs)("div",{className:"card card-container",children:[Object(S.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(S.jsxs)(O.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"username",children:"Username"}),Object(S.jsx)(y.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[N]})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"password",children:"Password"}),Object(S.jsx)(y.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[N]})]}),Object(S.jsx)("div",{className:"form-group",children:Object(S.jsxs)("button",{className:"button b-alt",style:{width:"100%"},disabled:this.state.loading,children:[this.state.loading&&Object(S.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(S.jsx)("span",{children:"Login"})]})}),this.state.message&&Object(S.jsx)("div",{className:"form-group",children:Object(S.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Invalid user or password"})}),Object(S.jsx)(w.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),s}(a.Component),B=s(73),P=function(e){if(!e)return Object(S.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},A=function(e){if(!Object(B.isEmail)(e))return Object(S.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},R=function(e){if(e.length<3||e.length>20)return Object(S.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},L=function(e){if(e.length<6||e.length>40)return Object(S.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},I=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).handleRegister=a.handleRegister.bind(Object(c.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(c.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(c.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(c.a)(a)),a.onChangePassword2=a.onChangePassword2.bind(Object(c.a)(a)),a.state={username:"",email:"",password:"",password2:"",successful:!1,message:""},a}return Object(o.a)(s,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangePassword2",value:function(e){this.setState({password2:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll();var s=!0;this.state.password!==this.state.password2&&(s=!1,this.setState({message:"Passwords Do not match",successful:!1})),0===this.checkBtn.context._errors.length&&!0===s&&m.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.msg,successful:!0})}),(function(e){console.log(e.response.data.msg);var s=e.response.data.msg;t.setState({successful:!1,message:s})}))}},{key:"render",value:function(){var e=this;return Object(S.jsx)("div",{className:"col-md-12",children:Object(S.jsxs)("div",{className:"card card-container",children:[Object(S.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(S.jsxs)(O.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t},children:[!this.state.successful&&Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"username",children:"Username"}),Object(S.jsx)(y.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[P,R]})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"email",children:"Email"}),Object(S.jsx)(y.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[P,A]})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"password",children:"Password"}),Object(S.jsx)(y.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[P,L]})]}),Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(S.jsx)(y.a,{type:"password",className:"form-control",name:"password2",value:this.state.password2,onChange:this.onChangePassword2,validations:[P,L]})]}),Object(S.jsxs)("div",{style:{fontSize:"7pt"},children:["By Signing up you agree to our ",Object(S.jsx)(u.b,{to:"/cookies",children:"cookie policy"}),", and to storing the details given above in accordence with ",Object(S.jsx)("a",{href:"https://www.legislation.gov.uk/ukpga/2018/12/contents/enacted",children:"DPA 2018"}),"."]}),Object(S.jsx)("div",{className:"form-group",children:Object(S.jsx)("button",{className:"button b-alt",style:{width:"100%"},children:"Sign Up"})})]}),this.state.message&&Object(S.jsxs)("div",{className:"form-group",children:[Object(S.jsx)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:this.state.message}),this.state.successful?Object(S.jsx)(u.b,{to:"/login",className:"button b-alt",style:{display:"block",textAlign:"center"},children:"Login"}):null]}),Object(S.jsx)(w.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),s}(a.Component),T=s(74),_=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={},e.submit=e.submit.bind(Object(c.a)(e)),e}return Object(o.a)(s,[{key:"submit",value:function(e){var t=e.target[0].value;this.props.history.push("/search/"+t),this.props.notSearch(),e.preventDefault()}},{key:"render",value:function(){return Object(S.jsx)("div",{children:Object(S.jsx)("form",{action:"#",method:"#",role:"search",onSubmit:this.submit,children:Object(S.jsxs)("div",{className:"input-group",children:[Object(S.jsx)("input",{className:"form-control form-control-search",placeholder:"Search for products. . .",name:"srch-term",id:"ed-srch-term",type:"text"}),Object(S.jsx)("div",{className:"input-btn",children:Object(S.jsx)("button",{type:"submit",id:"searchbtn",children:Object(S.jsx)(T.a,{})})})]})})})}}]),s}(a.Component),D=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={content:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(S.jsx)("div",{className:"container",style:{display:"flex",justifyContent:"center",margin:"auto",padding:"60px 15px",background:"var(--background-2)"},children:Object(S.jsx)("header",{className:"",style:{width:"100%"},children:Object(S.jsx)(_,{history:this.props.history,notSearch:this.props.notSearch})})})}}]),s}(a.Component),U=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(S.jsxs)("div",{className:"product2",style:{display:"flex",position:"relative",width:"80%",margin:"auto",border:"1px outset black",borderCollapse:"collapse"},onMouseEnter:this.showDelete,onMouseLeave:this.hideDelete,children:[Object(S.jsx)("div",{style:{borderLeft:"1px solid #dbdbdb",marginRight:"20px"}}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:this.props.basket.label}),Object(S.jsxs)("p",{style:{fontSize:"0.8em"},children:["Total price: \xa3",this.props.basket.price," | Items: ",this.props.basket.num_prods]})]})}),Object(S.jsx)("div",{style:{margin:"auto 0 auto auto",height:"max-content"},children:Object(S.jsx)(u.b,{to:"/basket/"+this.props.basket.value,className:"nav-link",children:Object(S.jsx)("div",{className:"btn btn-secondary",children:"Edit Basket"})})}),Object(S.jsx)("div",{style:{margin:"auto 10pt auto 10pt",height:"max-content"},children:Object(S.jsx)("div",{className:"btn btn-danger",onClick:this.props.deleteBasket,id:this.props.basket.value,children:"Delete Basket"})})]})}}]),s}(a.Component),F=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={redirect:null,userReady:!1,currentUser:{username:""},savedBaskets:[],loading:!0,reloading:!1},a.deleteBasket=a.deleteBasket.bind(Object(c.a)(a)),a}return Object(o.a)(s,[{key:"getBaskets",value:function(){var e=this;fetch("https://eshopapi.ryananderson.uk/api/basket/get/all",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.currentUser)}).then((function(e){return e.json()})).then((function(t){return e.setState({loading:!1,reloading:!1,savedBaskets:t})}))}},{key:"deleteBasket",value:function(e){var t=this;fetch("https://eshopapi.ryananderson.uk/api/basket/delete",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({basket:e.target.id})}).then((function(e){return t.setState({loading:!0},(function(){t.getBaskets()}))}))}},{key:"componentDidMount",value:function(){var e=this,t=m.getCurrentUser();t||this.setState({redirect:"/home"}),this.setState({currentUser:t,userReady:!0},(function(){e.getBaskets()}))}},{key:"render",value:function(){var e=this;if(this.state.redirect)return Object(S.jsx)(d.a,{to:this.state.redirect});var t=this.state,s=t.currentUser,a=t.savedBaskets.map((function(t){return Object(S.jsx)(U,{basket:t,deleteBasket:e.deleteBasket},t.value)}));return Object(S.jsxs)("div",{className:"container",children:[this.state.userReady?Object(S.jsxs)("div",{children:[Object(S.jsxs)("header",{className:"jumbotron",children:[Object(S.jsxs)("h3",{children:[Object(S.jsx)("strong",{children:s.display_name}),"'s Profile"]}),Object(S.jsx)(u.b,{to:"/settings",className:"button",children:"Edit Settings"})]}),Object(S.jsx)("hr",{})]}):null,Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Saved Baskets"}),a]})]})}}]),s}(a.Component);function z(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var M=new(function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"getUserBoard",value:function(){return p.a.get("https://eshopapi.ryananderson.uk/api/test/user",{headers:z()})}}]),e}()),E=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={content:""},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;M.getUserBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return Object(S.jsx)("div",{className:"container",children:Object(S.jsx)("header",{className:"jumbotron",children:Object(S.jsx)("h3",{children:this.state.content})})})}}]),s}(a.Component),W=s(24),J=s.n(W),H=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={shops:{asda:"https://upload.wikimedia.org/wikipedia/en/thumb/9/91/Asda_logo.svg/300px-Asda_logo.svg.png",tesco:"https://upload.wikimedia.org/wikipedia/en/thumb/b/b0/Tesco_Logo.svg/200px-Tesco_Logo.svg.png",aldi:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/AldiWorldwideLogo.svg/500px-AldiWorldwideLogo.svg.png",sains:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Sainsbury%27s_Logo.svg",coop:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/The_Co-Operative_clover_leaf_logo.svg/500px-The_Co-Operative_clover_leaf_logo.svg.png"}},e}return Object(o.a)(s,[{key:"getShop",value:function(){var e=this.props.product.shop;return this.state.shops[e]}},{key:"findRibbon",value:function(){switch(this.props.index){case 1:return Object(S.jsx)(J.a,{position:"top-left",fontColor:"white",backgroundColor:"#D6AF36",style:{fontSize:"10px"},children:"Best Value"});case 2:return Object(S.jsx)(J.a,{position:"top-left",fontColor:"white",backgroundColor:"#b4b4b4",style:{fontSize:"10px"},children:"2nd"});case 3:return Object(S.jsx)(J.a,{position:"top-left",fontColor:"white",backgroundColor:"#6a3805",style:{fontSize:"10px"},children:"3rd"});default:return}}},{key:"render",value:function(){return Object(S.jsx)("a",{href:this.props.product.url,className:"product",children:Object(S.jsxs)("div",{className:"product2",style:{display:"flex",position:"relative",width:"80%",margin:"auto",border:"1px outset black",borderCollapse:"collapse"},children:[this.findRibbon(),Object(S.jsx)("div",{className:"typeSec",children:Object(S.jsx)("img",{src:this.getShop(),alt:this.props.product.shop,className:"ShopIcon"})}),Object(S.jsx)("div",{style:{borderLeft:"1px solid #dbdbdb",marginRight:"20px"}}),Object(S.jsxs)("div",{className:"InfoSec",children:[Object(S.jsx)("p",{children:this.props.product.product_name}),Object(S.jsxs)("p",{style:{fontSize:"0.8em"},children:["Price: ",this.props.product.product_price]})]})]})})}}]),s}(a.Component),G=s(33),K=s.n(G),V=s(19),Z=s.n(V),q=s(11),Y=s(27),Q=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"render",value:function(){var e=[{value:"1",label:"Product Names A-Z"},{value:"2",label:"Product Names Z-A"},{value:"3",label:"Product Price LOW-HIGH"},{value:"4",label:"Product Price HIGH-LOW"}],t={select:function(e){return Object(q.a)(Object(q.a)({},e),{},{border:"0px"})},option:function(e,t){return Object(q.a)(Object(q.a)({},e),{},{background:"var(--background-1)"})}};return Object(S.jsx)("div",{style:{width:"15%",display:"flex",float:"left",flexGrow:"2",flexDirection:"column"},children:Object(S.jsxs)("form",{className:this.props.loading?"hidden":"form-visable",onSubmit:this.props.submitRefiner,children:[Object(S.jsxs)("p",{style:{marginTop:"10pt"},children:[this.props.products," products found"]}),Object(S.jsx)("hr",{}),Object(S.jsx)("h4",{style:{textAlign:"center"},children:"Filter Browse"}),Object(S.jsx)("input",{className:"form-control form-control-search-2",type:"text",name:"term"}),Object(S.jsx)("hr",{}),Object(S.jsxs)("div",{className:"shops",style:{display:"grid"},children:[Object(S.jsx)("label",{htmlFor:"asda",className:"browseShopLabels",style:{gridRow:"1"},children:"Asda"}),Object(S.jsx)("input",{type:"checkbox",name:"asda",className:"browseCheckboxes",style:{gridRow:"1"}}),Object(S.jsx)("label",{htmlFor:"aldi",className:"browseShopLabels",style:{gridRow:"2"},children:"Aldi"}),Object(S.jsx)("input",{type:"checkbox",name:"aldi",className:"browseCheckboxes",style:{gridRow:"2"}}),Object(S.jsx)("label",{htmlFor:"tesco",className:"browseShopLabels",style:{gridRow:"3"},children:"Tesco"}),Object(S.jsx)("input",{type:"checkbox",name:"tesco",className:"browseCheckboxes",style:{gridRow:"3"}}),Object(S.jsx)("label",{htmlFor:"sains",className:"browseShopLabels",style:{gridRow:"4"},children:"Sainsburys"}),Object(S.jsx)("input",{type:"checkbox",name:"sains",className:"browseCheckboxes",style:{gridRow:"4"}}),Object(S.jsx)("label",{htmlFor:"coop",className:"browseShopLabels",style:{gridRow:"5"},children:"CoOp"}),Object(S.jsx)("input",{type:"checkbox",name:"coop",className:"browseCheckboxes",style:{gridRow:"5"}})]}),Object(S.jsx)("hr",{}),Object(S.jsx)("p",{children:"Product Ordering"}),Object(S.jsx)(Y.a,{defaultValue:e[0],label:"Single select",options:e,style:t,onChange:this.props.handleSelect,theme:function(e){return Object(q.a)(Object(q.a)({},e),{},{borderRadius:"10px",colors:Object(q.a)(Object(q.a)({},e.colors),{},{primary:"var(--accent-1)",primary25:"var(--background-1)",primary50:"var(--text-1)",primary75:"var(--text-1)",neutral0:"var(--background-2)",neutral80:"var(--text-1)"})})}}),Object(S.jsx)("hr",{}),Object(S.jsx)("input",{type:"submit",value:"Update Browse",className:"button"})]})})}}]),s}(a.Component),X=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={open:!1},e}return Object(o.a)(s,[{key:"toggleMenu",value:function(){this.state.open?this.setState({open:!1}):this.setState({open:!0})}},{key:"getVisable",value:function(){}},{key:"render",value:function(){var e=[{value:"1",label:"Product Names A-Z"},{value:"2",label:"Product Names Z-A"},{value:"3",label:"Product Price LOW-HIGH"},{value:"4",label:"Product Price HIGH-LOW"}],t={select:function(e){return Object(q.a)(Object(q.a)({},e),{},{border:"0px"})},option:function(e,t){return Object(q.a)(Object(q.a)({},e),{},{background:"var(--background-1)"})}};return Object(S.jsxs)("div",{className:this.props.loading?"hidden":"",children:[Object(S.jsx)("button",{style:{margin:"10pt"},className:"button",onClick:this.toggleMenu.bind(this),children:"Refine Browse"}),Object(S.jsxs)("form",{className:this.state.open?"form-visable-mob":"hidden",onSubmit:this.props.submitRefiner,style:{width:"95%",margin:"auto",border:"1px solid black",marginBottom:"10pt",backgroundColor:"var(--background-2)"},children:[Object(S.jsxs)("p",{style:{padding:"5pt"},children:[this.props.products," products found"]}),Object(S.jsx)("hr",{}),Object(S.jsx)("input",{type:"text",name:"term",className:"form-control form-control-search-2",style:{width:"80%",margin:"auto"}}),Object(S.jsxs)("div",{className:"shops",style:{display:"grid",width:"70%",margin:"auto"},children:[Object(S.jsx)("label",{htmlFor:"asda",className:"browseShopLabels",style:{gridRow:"1"},children:"Asda"}),Object(S.jsx)("input",{type:"checkbox",name:"asda",className:"browseCheckboxes",style:{gridRow:"1"}}),Object(S.jsx)("label",{htmlFor:"aldi",className:"browseShopLabels",style:{gridRow:"2"},children:"Aldi"}),Object(S.jsx)("input",{type:"checkbox",name:"aldi",className:"browseCheckboxes",style:{gridRow:"2"}}),Object(S.jsx)("label",{htmlFor:"tesco",className:"browseShopLabels",style:{gridRow:"3"},children:"Tesco"}),Object(S.jsx)("input",{type:"checkbox",name:"tesco",className:"browseCheckboxes",style:{gridRow:"3"}}),Object(S.jsx)("label",{htmlFor:"sains",className:"browseShopLabels",style:{gridRow:"4"},children:"Sainsburys"}),Object(S.jsx)("input",{type:"checkbox",name:"sains",className:"browseCheckboxes",style:{gridRow:"4"}}),Object(S.jsx)("label",{htmlFor:"coop",className:"browseShopLabels",style:{gridRow:"5"},children:"CoOp"}),Object(S.jsx)("input",{type:"checkbox",name:"coop",className:"browseCheckboxes",style:{gridRow:"5"}})]}),Object(S.jsx)(Y.a,{defaultValue:e[0],label:"Single select",options:e,style:t,onChange:this.props.handleSelect,theme:function(e){return Object(q.a)(Object(q.a)({},e),{},{borderRadius:"10px",colors:Object(q.a)(Object(q.a)({},e.colors),{},{primary:"var(--accent-1)",primary25:"var(--background-1)",primary50:"var(--text-1)",primary75:"var(--text-1)",neutral0:"var(--background-2)",neutral80:"var(--text-1)"})})}}),Object(S.jsx)("input",{type:"submit",className:"button",value:"Update Browse",style:{width:"80%",margin:"auto",marginBottom:"10pt",backgroundColor:"var(--background-1)"}})]})]})}}]),s}(a.Component),$=s(12),ee=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={loading:!0,reloading:!1,showError:!1,products:[],refine:{term:"",shops:{asda:"1",coop:"1",tesco:"1",aldi:"1",sains:"1"},orderby:"1"},currentPage:1,productsPerPage:100,upperPageBound:7,lowerPageBound:0,isPrevBtnActive:"disabled",isNextBtnActive:"",pageBound:7},e.handleClick=e.handleClick.bind(Object(c.a)(e)),e.btnDecrementClick=e.btnDecrementClick.bind(Object(c.a)(e)),e.btnIncrementClick=e.btnIncrementClick.bind(Object(c.a)(e)),e.btnNextClick=e.btnNextClick.bind(Object(c.a)(e)),e.btnPrevClick=e.btnPrevClick.bind(Object(c.a)(e)),e.setPrevAndNextBtnClass=e.setPrevAndNextBtnClass.bind(Object(c.a)(e)),e.submitRefiner=e.submitRefiner.bind(Object(c.a)(e)),e.handleSelect=e.handleSelect.bind(Object(c.a)(e)),e}return Object(o.a)(s,[{key:"callAPI",value:function(){var e=this;this.setState({reloading:!0}),fetch("https://eshopapi.ryananderson.uk/api/browse",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.refine)}).then((function(e){return e.json()})).then((function(t){return e.setState({loading:!1,reloading:!1,products:t})}))}},{key:"componentDidUpdate",value:function(){K()("ul li.active").removeClass("active"),K()("ul li#"+this.state.currentPage).addClass("active")}},{key:"handleClick",value:function(e){var t=Number(e.target.id);this.setState({currentPage:t}),K()("ul li.active").removeClass("active"),K()("ul li#"+t).addClass("active"),this.setPrevAndNextBtnClass(t)}},{key:"setPrevAndNextBtnClass",value:function(e){var t=Math.ceil(this.state.products.length/this.state.productsPerPage);this.setState({isNextBtnActive:"disabled"}),this.setState({isPrevBtnActive:"disabled"}),t===e&&t>1?this.setState({isPrevBtnActive:""}):1===e&&t>1?this.setState({isNextBtnActive:""}):t>1&&(this.setState({isNextBtnActive:""}),this.setState({isPrevBtnActive:""}))}},{key:"btnIncrementClick",value:function(){this.setState({upperPageBound:this.state.upperPageBound+this.state.pageBound}),this.setState({lowerPageBound:this.state.lowerPageBound+this.state.pageBound});var e=this.state.upperPageBound+1;this.setState({currentPage:e}),this.setPrevAndNextBtnClass(e)}},{key:"btnDecrementClick",value:function(){this.setState({upperPageBound:this.state.upperPageBound-this.state.pageBound}),this.setState({lowerPageBound:this.state.lowerPageBound-this.state.pageBound});var e=this.state.upperPageBound-this.state.pageBound;this.setState({currentPage:e}),this.setPrevAndNextBtnClass(e)}},{key:"btnPrevClick",value:function(){(this.state.currentPage-1)%this.state.pageBound===0&&(this.setState({upperPageBound:this.state.upperPageBound-this.state.pageBound}),this.setState({lowerPageBound:this.state.lowerPageBound-this.state.pageBound}));var e=this.state.currentPage-1;this.setState({currentPage:e}),this.setPrevAndNextBtnClass(e)}},{key:"btnNextClick",value:function(){this.state.currentPage+1>this.state.upperPageBound&&(this.setState({upperPageBound:this.state.upperPageBound+this.state.pageBound}),this.setState({lowerPageBound:this.state.lowerPageBound+this.state.pageBound}));var e=this.state.currentPage+1;this.setState({currentPage:e}),this.setPrevAndNextBtnClass(e)}},{key:"handleSelect",value:function(e){var t=e.value;this.setState({refine:{term:this.state.refine.term,shops:{asda:this.state.refine.shops.asda,coop:this.state.refine.shops.coop,tesco:this.state.refine.shops.tesco,aldi:this.state.refine.shops.aldi,sains:this.state.refine.shops.sains},orderby:t}})}},{key:"submitRefiner",value:function(e){for(var t=this,s=e.target,a=!0,n=1;n<6;n++)s[n].checked&&(a=!1);this.setState({refine:{term:s[0].value,shops:{asda:s[1].checked?1:0,coop:s[5].checked?1:0,tesco:s[3].checked?1:0,aldi:s[2].checked?1:0,sains:s[4].checked?1:0},orderby:this.state.refine.orderby},showError:a},(function(){a?t.setState({reloading:!1}):t.callAPI()})),e.preventDefault()}},{key:"componentDidMount",value:function(){this.callAPI()}},{key:"render",value:function(){for(var e=this,t=this.state,s=t.products,a=t.currentPage,n=t.productsPerPage,i=t.upperPageBound,r=t.lowerPageBound,o=t.isPrevBtnActive,c=t.isNextBtnActive,l=a*n,h=l-n,d=s.slice(h,l).map((function(e){return Object(S.jsx)(H,{product:e},e.url)})),u=[],b=1;b<=Math.ceil(s.length/n);b++)u.push(b);var p=u.map((function(t){return 1===t&&1===a?Object(S.jsx)("li",{className:"page-item active",id:t,children:Object(S.jsx)("a",{href:"#",className:"page-link",onClick:e.handleClick,children:t})},t):t<i+1&&t>r?Object(S.jsx)("li",{className:"page-item",id:t,children:Object(S.jsx)("a",{href:"#",className:"page-link",id:t,onClick:e.handleClick,children:t})},t):void 0})),j=null;u.length>i&&(j=Object(S.jsx)("li",{className:"page-item",children:Object(S.jsxs)("a",{href:"#",className:"page-link",onClick:this.btnIncrementClick,children:[" ","\u2026"," "]})}));var m=null;r>=1&&(m=Object(S.jsx)("li",{className:"page-item",children:Object(S.jsxs)("a",{href:"#",className:"page-link",onClick:this.btnDecrementClick,children:[" ","\u2026"," "]})}));var g=null;g="disabled"===o?Object(S.jsx)("li",{className:o,children:Object(S.jsxs)("span",{id:"btnPrev",className:"page-link disabled",style:{color:"grey"},children:[" ","Prev"," "]})}):Object(S.jsx)("li",{className:o,children:Object(S.jsxs)("a",{href:"#",id:"btnPrev",className:"page-link",onClick:this.btnPrevClick,children:[" ","Prev"," "]})});var x=null;return x="disabled"===c?Object(S.jsx)("li",{className:c,children:Object(S.jsxs)("span",{id:"btnNext",className:"page-link disabled",style:{color:"grey"},children:[" ","Next"," "]})}):Object(S.jsx)("li",{className:c,children:Object(S.jsxs)("a",{href:"#",id:"btnNext",className:"page-link",onClick:this.btnNextClick,children:[" ","Next"," "]})}),Object(S.jsxs)("div",{style:{width:"100%"},children:[Object(S.jsx)(Z.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"var(--accent-1)",loading:this.state.loading}),Object(S.jsxs)("p",{className:this.state.loading?"":"hidden",style:{textAlign:"center"},children:[Object(S.jsx)("br",{}),"Loading"]}),Object(S.jsxs)("div",{className:"browseProds",children:[Object(S.jsx)(v.a,{minWidth:1224,children:Object(S.jsx)(Q,{loading:this.state.loading,products:this.state.products.length,handleSelect:this.handleSelect,submitRefiner:this.submitRefiner})}),Object(S.jsx)(v.a,{maxWidth:1224,children:Object(S.jsx)(X,{loading:this.state.loading,products:this.state.products.length,handleSelect:this.handleSelect,submitRefiner:this.submitRefiner})}),Object(S.jsxs)("ul",{className:this.state.loading?"hidden":"xyz",children:[Object(S.jsx)(Z.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"var(--accent-1)",loading:this.state.reloading}),Object(S.jsx)("div",{className:this.state.reloading?"hidden":"",children:d})]})]}),Object(S.jsxs)("ul",{className:this.state.loading||this.state.reloading?"hidden":"pagination",children:[g,m,p,j,x]}),Object(S.jsxs)("div",{className:this.state.showError?"confirmation alert alert-danger":"hidden",children:[Object(S.jsx)($.c,{}),"No Shops Selected!"]})]})}}]),s}(a.Component),te=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={search:{term:""},results:[],loading:!0,reloading:!1},e}return Object(o.a)(s,[{key:"callAPI",value:function(){var e=this;this.setState({reloading:!0}),fetch("https://eshopapi.ryananderson.uk/api/search",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.search)}).then((function(e){return e.json()})).then((function(t){0!==t.length?e.setState({loading:!1,reloading:!1,results:t}):e.setState({loading:!1,reloading:!1,results:[{url:"",product_name:"No Products Found for that name",product_price:"",product_additionals:"Search again for more results"}]})})).catch((function(t){e.setState({loading:!1,reloading:!1,results:[{url:"",product_name:"No Products Found for that name",product_price:"",product_additionals:"Search again for more results"}]})}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({search:{term:this.props.match.params.term}},(function(){e.callAPI()}))}},{key:"render",value:function(){var e=this.state.results.map((function(e,t){return Object(S.jsx)(H,{product:e,index:t+1},e.url)}));return Object(S.jsxs)("div",{style:{width:"100%"},children:[Object(S.jsx)(Z.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"var(--accent-1)",loading:this.state.loading}),Object(S.jsxs)("p",{className:this.state.loading?"":"hidden",style:{textAlign:"center"},children:[Object(S.jsx)("br",{}),"Loading"]}),Object(S.jsx)("br",{className:this.state.loading?"hidden":"xyx"}),Object(S.jsx)("h1",{className:this.state.loading?"hidden":"",style:{textAlign:"center"},children:"Search Results"}),Object(S.jsx)("hr",{className:this.state.loading?"hidden":""}),Object(S.jsx)("div",{className:"browseProds",children:Object(S.jsxs)("ul",{className:this.state.loading?"hidden":"xyx",children:[Object(S.jsx)(Z.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"#123abc",loading:this.state.reloading}),Object(S.jsx)("div",{className:this.state.reloading?"hidden":"",children:e})]})})]})}}]),s}(a.Component),se=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(S.jsxs)("h1",{children:[Object(S.jsx)("strong",{children:"404"})," not found"]})}}]),s}(a.Component),ae=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={redirect:null,userReady:!1,currentUser:{username:""},userInfo:{display_name:"",email:""}},a}return Object(o.a)(s,[{key:"setTheme",value:function(e){!0===e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),document.getElementsByClassName("navbar-brand")[0].children[0].src="https://bestbasket.ryananderson.uk/eshoplogodark.png"):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"),document.getElementsByClassName("navbar-brand")[0].children[0].src="https://bestbasket.ryananderson.uk/eshoplogolight.png")}},{key:"getDetails",value:function(e){var t=this;fetch("https://eshopapi.ryananderson.uk/api/user",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return t.setState({userInfo:e[0]})}))}},{key:"formatTime",value:function(){var e=this.state.userInfo.createdAt;return new Date(e).toLocaleTimeString(void 0,{year:"numeric",month:"long",day:"numeric"})}},{key:"componentDidMount",value:function(){var e=m.getCurrentUser();this.getDetails(e),"dark"===(localStorage.getItem("theme")?localStorage.getItem("theme"):null)&&(document.getElementById("checkbox").checked=!0),e||this.setState({redirect:"/home"})}},{key:"render",value:function(){return this.state.redirect?Object(S.jsx)(d.a,{to:this.state.redirect}):Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:"Account Settings"}),Object(S.jsx)("hr",{}),Object(S.jsxs)("div",{style:{textAlign:"center"},children:["User Name: ",this.state.userInfo.display_name,Object(S.jsx)("br",{}),"Email: ",this.state.userInfo.email,Object(S.jsx)("br",{}),"Date Created: ",this.formatTime()]}),Object(S.jsxs)("div",{style:{width:"max-content",display:"flex",justifyContent:"center",margin:"auto"},children:[Object(S.jsx)("em",{style:{margin:"auto",marginRight:"10px"},children:"Theme (light/dark):"}),Object(S.jsx)("div",{className:"theme-switch-wrapper",style:{width:"max-content"},children:Object(S.jsxs)("label",{className:"theme-switch",htmlFor:"checkbox",children:[Object(S.jsx)("input",{type:"checkbox",id:"checkbox",onChange:this.setTheme}),Object(S.jsx)("div",{className:"slider round"})]})})]})]})}}]),s}(a.Component),ne=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("theme");document.getElementsByClassName("navbar-brand")[0].children[0].src="dark"===e?"https://bestbasket.ryananderson.uk/eshoplogodark.png":"https://bestbasket.ryananderson.uk/eshoplogolight.png"}},{key:"getIcon",value:function(){return"dark"===localStorage.getItem("theme")?"https://bestbasket.ryananderson.uk/eshoplogodark.png":"https://bestbasket.ryananderson.uk/eshoplogolight.png"}},{key:"render",value:function(){return Object(S.jsxs)("div",{className:"container-fluid",children:[Object(S.jsx)(u.b,{to:"/",className:"navbar-brand",onClick:this.props.search,children:Object(S.jsx)("img",{alt:"Eshop Logo",src:this.getIcon(),style:{height:"40px"}})}),Object(S.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/browse",className:"nav-link",onClick:this.props.notSearch,children:"Browse"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/basket",className:"nav-link",onClick:this.props.notSearch,children:"Basket Configurator"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/about",className:"nav-link",onClick:this.props.notSearch,children:"About"})})]}),this.props.currentUser?Object(S.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(S.jsx)("li",{className:"nav-item",style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(S.jsx)(u.b,{to:"/profile",onClick:this.props.notSearch,style:{display:"flex",color:"var(--text-1)"},children:Object(S.jsx)($.g,{className:"profile",style:{height:"1.1em",width:"1.1em"}})})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)("a",{href:"/login",className:"nav-link",onClick:this.props.logOut,children:"Logout"})})]}):Object(S.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/login",className:"nav-link",onClick:this.props.notSearch,children:"Login"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/register",className:"nav-link",onClick:this.props.notSearch,children:"Sign Up"})})]})]})}}]),s}(a.Component),ie=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:this.props.open?"closed":"open",id:"myNavbar",children:[Object(S.jsx)("div",{className:"navbar-nav mr-auto",children:Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/home",className:"nav-link",onClick:this.props.search,children:"Home"})})}),Object(S.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/browse",className:"nav-link",onClick:this.props.notSearch,children:"Browse"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/basket",className:"nav-link",onClick:this.props.notSearch,children:"Basket Configurator"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/about",className:"nav-link",onClick:this.props.notSearch,children:"About"})})]}),this.props.currentUser?Object(S.jsxs)("div",{className:"navbar-nav bottom",children:[Object(S.jsx)("li",{className:"nav-item",style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(S.jsx)(u.b,{to:"/profile",onClick:this.props.notSearch,style:{display:"flex",color:"var(--text-1)",justifyContent:"center"},children:Object(S.jsx)($.g,{className:"profile",style:{height:"1.6em",width:"1.6em"}})})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)("a",{href:"/login",className:"nav-link",onClick:this.props.logOut,children:"Logout"})})]}):Object(S.jsxs)("div",{className:"navbar-nav bottom",children:[Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/login",className:"nav-link",onClick:this.props.notSearch,children:"Login"})}),Object(S.jsx)("li",{className:"nav-item",children:Object(S.jsx)(u.b,{to:"/register",className:"nav-link",onClick:this.props.notSearch,children:"Sign Up"})})]})]})})}}]),s}(a.Component),re=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("theme");document.getElementsByClassName("navbar-brand")[0].children[0].src="dark"===e?"https://bestbasket.ryananderson.uk/eshoplogodark.png":"https://bestbasket.ryananderson.uk/eshoplogolight.png"}},{key:"getIcon",value:function(){return"dark"===localStorage.getItem("theme")?"https://bestbasket.ryananderson.uk/eshoplogodark.png":"https://bestbasket.ryananderson.uk/eshoplogolight.png"}},{key:"render",value:function(){return Object(S.jsxs)("div",{className:"container-fluid",children:[Object(S.jsx)(u.b,{to:"/",className:"navbar-brand",onClick:this.props.search,children:Object(S.jsx)("img",{alt:"Eshop Logo",src:this.getIcon(),style:{height:"40px"}})}),Object(S.jsx)("div",{className:"navbar-nav ml-auto",children:Object(S.jsx)("button",{style:{margin:"10pt"},className:"button",onClick:this.props.toggleMenu,children:this.props.open?Object(S.jsx)($.a,{}):Object(S.jsx)($.e,{})})})]})}}]),s}(a.Component),oe=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={lastupdate:[]},e}return Object(o.a)(s,[{key:"callAPI",value:function(){var e=this;fetch("https://eshopapi.ryananderson.uk/api/shops").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return[e.shop,e.date.toString()]}))})).then((function(t){return e.setState({lastupdate:t})}))}},{key:"componentDidMount",value:function(){this.callAPI()}},{key:"render",value:function(){var e=this.state.lastupdate.map((function(e){var t=new Date(e[1]),s=e[0];return Object(S.jsxs)("li",{children:[Object(S.jsx)("b",{children:s}),": ",t.toLocaleDateString()," @"," ",t.toLocaleTimeString()," "]},e[0])}));return Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{style:{marginTop:"10pt"},children:"About this system."}),Object(S.jsx)("hr",{}),Object(S.jsx)("p",{style:{textAlign:"center"},children:"A system for comparing supermarkets in the UK, with individual product searching or entire basket searching to find the best deals."}),Object(S.jsx)("h3",{style:{textAlign:"center"},children:"What we currently offer"}),Object(S.jsxs)("ul",{style:{textAlign:"center",listStyle:"none"},children:[Object(S.jsx)("li",{className:"shopList",children:Object(S.jsx)("a",{href:"https://www.asda.com/",children:Object(S.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/9/91/Asda_logo.svg/300px-Asda_logo.svg.png",alt:"Asda",className:"ShopIcon",style:{color:"var(--text-1)",marginRight:"15pt",height:"25px"}})})}),Object(S.jsx)("li",{className:"shopList",children:Object(S.jsx)("a",{href:"https://aldi.co.uk/",children:Object(S.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/AldiWorldwideLogo.svg/500px-AldiWorldwideLogo.svg.png",alt:"Aldi",className:"ShopIcon",style:{color:"var(--text-1)",marginRight:"15pt",height:"55px"}})})}),Object(S.jsx)("li",{className:"shopList",children:Object(S.jsx)("a",{href:"https://tesco.co.uk/",children:Object(S.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/b/b0/Tesco_Logo.svg/200px-Tesco_Logo.svg.png",alt:"Tesco",className:"ShopIcon",style:{color:"var(--text-1)",marginRight:"15pt",height:"25px"}})})}),Object(S.jsx)("li",{className:"shopList",children:Object(S.jsx)("a",{href:"https://sainsburys.co.uk/",children:Object(S.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Sainsbury%27s_Logo.svg",alt:"Sainsburys",className:"ShopIcon",style:{color:"var(--text-1)",marginRight:"15pt",height:"25px"}})})}),Object(S.jsx)("li",{className:"shopList",children:Object(S.jsx)("a",{href:"https://coop.co.uk/",children:Object(S.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/The_Co-Operative_clover_leaf_logo.svg/500px-The_Co-Operative_clover_leaf_logo.svg.png",alt:"CO-OP",className:"ShopIcon",style:{color:"var(--text-1)",marginRight:"15pt",height:"35px"}})})})]}),Object(S.jsxs)("p",{style:{width:"90%",margin:"auto"},children:["We update our prices regularly to keep our information as accurate as possible.",Object(S.jsx)("br",{}),"Below are the most recent updates for each shop:"]}),Object(S.jsx)("ul",{style:{textAlign:"center",listStyle:"none"},children:e}),Object(S.jsxs)("div",{style:{width:"95%",margin:"auto"},children:[Object(S.jsx)("h2",{children:"Delivery Information"}),Object(S.jsx)("p",{children:"All providers have their delivery information on their own systems, we try to keep ours as accurate but it may not always be perfect, currently we have the following for shop delivery information that we use when finding the Best Basket"}),Object(S.jsxs)("ul",{style:{width:"max-content",margin:"auto"},children:[Object(S.jsx)("li",{children:"Asda"}),Object(S.jsx)("ul",{children:Object(S.jsx)("li",{children:"\xa33 on baskets under \xa340"})}),Object(S.jsx)("li",{children:"Co-op"}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Minimum Spend \xa315"}),Object(S.jsx)("li",{children:"Free Standard Delivery"})]}),Object(S.jsx)("li",{children:"Tesco"}),Object(S.jsx)("ul",{children:Object(S.jsx)("li",{children:"\xa35.50 Flat Standard Delivery"})}),Object(S.jsx)("li",{children:"Aldi"}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Free over \xa330"}),Object(S.jsx)("li",{children:"\xa32.95 on baskets under \xa330"})]}),Object(S.jsx)("li",{children:"Sainsburys"}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Minimum Spend \xa325"}),Object(S.jsx)("li",{children:"\xa37 for baskets under \xa340"})]})]})]})]})}}]),s}(a.Component),ce=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={shops:{asda:"https://upload.wikimedia.org/wikipedia/en/thumb/9/91/Asda_logo.svg/300px-Asda_logo.svg.png",tesco:"https://upload.wikimedia.org/wikipedia/en/thumb/b/b0/Tesco_Logo.svg/200px-Tesco_Logo.svg.png",aldi:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/AldiWorldwideLogo.svg/500px-AldiWorldwideLogo.svg.png",sains:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Sainsbury%27s_Logo.svg",coop:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/The_Co-Operative_clover_leaf_logo.svg/500px-The_Co-Operative_clover_leaf_logo.svg.png","":"https://bestbasket.ryananderson.uk/EshopLogo1.png"},visable:!1,warn:!1},e.handleChange=e.handleChange.bind(Object(c.a)(e)),e.showDelete=e.showDelete.bind(Object(c.a)(e)),e.hideDelete=e.hideDelete.bind(Object(c.a)(e)),e.removeSelf=e.removeSelf.bind(Object(c.a)(e)),e}return Object(o.a)(s,[{key:"getShop",value:function(){var e=this.props.product.item.shop;return this.state.shops[e]}},{key:"shopIconStyle",value:function(){return""===this.props.product.item.shop?{height:"45px"}:{height:"15px"}}},{key:"handleChange",value:function(e){1===e.target.value.length?this.setState({warn:!0}):(this.setState({warn:!1}),this.props.product.term=e.target.value,e.target.value=this.props.product.term)}},{key:"findRibbon",value:function(){switch(this.props.index){case 1:return Object(S.jsx)(J.a,{position:"top-left",fontColor:"white",backgroundColor:"#D6AF36",style:{fontSize:"10px"},children:"Best Value"});case 2:return Object(S.jsx)(J.a,{position:"top-left",fontColor:"white",backgroundColor:"#b4b4b4",style:{fontSize:"10px"},children:"2nd"});case 3:return Object(S.jsx)(J.a,{position:"top-left",fontColor:"white",backgroundColor:"#6a3805",style:{fontSize:"10px"},children:"3rd"});default:return}}},{key:"showDelete",value:function(){this.setState({visable:!0})}},{key:"hideDelete",value:function(){this.setState({visable:!1})}},{key:"removeSelf",value:function(){var e=this.props.prodKey;this.props.removeSelf(e)}},{key:"componentDidMount",value:function(){try{document.getElementById(this.props.prodKey).value=this.props.product.term}catch(e){}}},{key:"componentDidUpdate",value:function(e,t,s){if(this.props.product.term!==e.product.term)try{document.getElementById(this.props.prodKey).value=this.props.product.term}catch(a){}}},{key:"render",value:function(){return Object(S.jsxs)("div",{className:"product2",style:{display:"flex",position:"relative",width:"80%",margin:"auto",border:"1px outset black",borderCollapse:"collapse"},onMouseEnter:this.showDelete,onMouseLeave:this.hideDelete,children:[this.findRibbon(),this.state.visable?Object(S.jsx)("div",{style:{zIndex:9999,position:"absolute",color:"var(--accent-1)",cursor:"pointer"},onClick:this.removeSelf,children:Object(S.jsx)($.f,{style:{height:"1.1em",width:"1.1em"}})}):null,Object(S.jsx)("div",{className:"typeSec",children:Object(S.jsx)("img",{src:this.getShop(),alt:"Logo",className:"ShopIcon",style:this.shopIconStyle()})}),Object(S.jsx)("div",{style:{borderLeft:"1px solid #dbdbdb",marginRight:"20px"}}),Object(S.jsx)("div",{className:"InfoSec",children:this.props.product.found?Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsxs)("div",{style:{width:"80%"},children:[Object(S.jsx)("p",{children:this.props.product.item.product_name}),Object(S.jsxs)("p",{style:{fontSize:"0.8em"},children:["Price: ",this.props.product.item.product_price]})]}),Object(S.jsx)("div",{style:{margin:"auto 0 auto auto",height:"max-content"},children:Object(S.jsx)("a",{href:this.props.product.item.url,target:"_blank",rel:"noreferrer",className:"nav-link",children:Object(S.jsx)("div",{className:"btn btn-secondary",children:"Click to View!"})})})]}):Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:"Input Product"}),""!==this.props.product.item.product_name?Object(S.jsx)("p",{style:{color:"red"},children:"Product Not Found, try a new term"}):null,this.state.warn?Object(S.jsx)("p",{style:{color:"red"},children:"Product Names must be 2 or more letters in length!"}):null,Object(S.jsx)("input",{id:this.props.prodKey,onChange:this.handleChange})]})})]})}}]),s}(a.Component),le=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(S.jsx)("div",{onClick:this.props.handleClick,className:"product2",style:{display:"flex",position:"relative",width:"80%",margin:"auto",border:"1px outset black",borderCollapse:"collapse",cursor:"pointer"},children:Object(S.jsx)("p",{style:{textAlign:"center",width:"100%",marginTop:"1rem"},children:"Add New"})})}}]),s}(a.Component),he=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={currentUser:void 0},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=m.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"render",value:function(){var e=this.state.currentUser;return Object(S.jsx)("div",{style:{width:"15%",display:"flex",float:"left",flexGrow:"2",flexDirection:"column"},children:Object(S.jsxs)("form",{className:this.props.loading?"hidden":"form-visable",id:"x1",onSubmit:this.props.submitRefiner,children:[Object(S.jsxs)("p",{style:{marginTop:"10pt"},children:[this.props.products," item","1"===this.props.products?null:"s"]}),Object(S.jsx)("hr",{}),e?Object(S.jsx)("button",{onClick:this.props.handleShow,type:"button",className:"button",children:"Save Basket"}):Object(S.jsxs)("button",{type:"button",disabled:!0,className:"button",children:["Save Basket",Object(S.jsx)("span",{className:"tooltiptext",children:"Log in to save a basket"})]}),Object(S.jsx)("hr",{}),Object(S.jsx)("h4",{style:{textAlign:"center"},children:"Basket Options"}),Object(S.jsx)("hr",{}),Object(S.jsx)("p",{style:{marginBottom:"0",textDecoration:"underline"},children:"Shop Availablity"}),Object(S.jsxs)("div",{className:"shops",style:{display:"grid"},children:[Object(S.jsx)("label",{htmlFor:"asda",className:"browseShopLabels",style:{gridRow:"1"},children:"Asda"}),Object(S.jsx)("input",{type:"checkbox",name:"asda",className:"browseCheckboxes",style:{gridRow:"1"}}),Object(S.jsx)("label",{htmlFor:"aldi",className:"browseShopLabels",style:{gridRow:"2"},children:"Aldi"}),Object(S.jsx)("input",{type:"checkbox",name:"aldi",className:"browseCheckboxes",style:{gridRow:"2"}}),Object(S.jsx)("label",{htmlFor:"tesco",className:"browseShopLabels",style:{gridRow:"3"},children:"Tesco"}),Object(S.jsx)("input",{type:"checkbox",name:"tesco",className:"browseCheckboxes",style:{gridRow:"3"}}),Object(S.jsx)("label",{htmlFor:"sains",className:"browseShopLabels",style:{gridRow:"4"},children:"Sainsburys"}),Object(S.jsx)("input",{type:"checkbox",name:"sains",className:"browseCheckboxes",style:{gridRow:"4"}}),Object(S.jsx)("label",{htmlFor:"coop",className:"browseShopLabels",style:{gridRow:"5"},children:"CoOp"}),Object(S.jsx)("input",{type:"checkbox",name:"coop",className:"browseCheckboxes",style:{gridRow:"5"}})]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("div",{className:"shops",style:{display:"grid"},children:[Object(S.jsx)(u.b,{to:"/about",style:{gridRow:"1",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(S.jsx)($.d,{style:{height:"1em",width:"1em"}})}),Object(S.jsx)("label",{htmlFor:"deliver",className:"browseShopLabels",style:{gridRow:"1"},children:"Delivery"}),Object(S.jsx)("input",{type:"checkbox",name:"delivery",className:"browseCheckboxes",style:{gridRow:"1"}})]}),e?Object(S.jsx)("div",{children:Object(S.jsxs)("p",{style:{fontSize:"9pt"},children:[Object(S.jsx)($.c,{style:{height:"1em",width:"1em"}}),"These preferences can be saved in your profile settings"]})}):null,Object(S.jsx)("hr",{})]})})}}]),s}(a.Component),de=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={open:!1,currentUser:void 0},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=m.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"toggleMenu",value:function(){this.state.open?this.setState({open:!1}):this.setState({open:!0})}},{key:"getVisable",value:function(){}},{key:"render",value:function(){var e=this.state.currentUser;return Object(S.jsxs)("div",{className:this.props.loading?"hidden":"",style:{zIndex:"80",position:"relative",backgroundColor:"var(--background-1)"},children:[Object(S.jsx)("button",{style:{margin:"10pt"},className:"button",onClick:this.toggleMenu.bind(this),children:"Refine Browse"}),Object(S.jsxs)("form",{className:this.state.open?"form-visable-mob":"hidden",id:"x1",onSubmit:this.props.submitRefiner,style:{width:"80%",margin:"auto",marginBottom:"15pt"},children:[Object(S.jsxs)("p",{style:{marginTop:"10pt"},children:[this.props.products," item","1"===this.props.products?null:"s"]}),Object(S.jsx)("hr",{}),e?Object(S.jsx)("button",{onClick:this.props.handleShow,type:"button",className:"button",children:"Save Basket"}):Object(S.jsxs)("button",{type:"button",disabled:!0,className:"button",children:["Save Basket",Object(S.jsx)("span",{className:"tooltiptext tooltiptext-mob",children:"Log in to save a basket"})]}),Object(S.jsx)("hr",{}),Object(S.jsx)("h4",{style:{textAlign:"center"},children:"Basket Options"}),Object(S.jsx)("hr",{}),Object(S.jsx)("p",{style:{marginBottom:"0",textDecoration:"underline"},children:"Shop Availablity"}),Object(S.jsxs)("div",{className:"shops",style:{display:"grid"},children:[Object(S.jsx)("label",{htmlFor:"asda",className:"browseShopLabels",style:{gridRow:"1"},children:"Asda"}),Object(S.jsx)("input",{type:"checkbox",name:"asda",className:"browseCheckboxes",style:{gridRow:"1"}}),Object(S.jsx)("label",{htmlFor:"aldi",className:"browseShopLabels",style:{gridRow:"2"},children:"Aldi"}),Object(S.jsx)("input",{type:"checkbox",name:"aldi",className:"browseCheckboxes",style:{gridRow:"2"}}),Object(S.jsx)("label",{htmlFor:"tesco",className:"browseShopLabels",style:{gridRow:"3"},children:"Tesco"}),Object(S.jsx)("input",{type:"checkbox",name:"tesco",className:"browseCheckboxes",style:{gridRow:"3"}}),Object(S.jsx)("label",{htmlFor:"sains",className:"browseShopLabels",style:{gridRow:"4"},children:"Sainsburys"}),Object(S.jsx)("input",{type:"checkbox",name:"sains",className:"browseCheckboxes",style:{gridRow:"4"}}),Object(S.jsx)("label",{htmlFor:"coop",className:"browseShopLabels",style:{gridRow:"5"},children:"CoOp"}),Object(S.jsx)("input",{type:"checkbox",name:"coop",className:"browseCheckboxes",style:{gridRow:"5"}})]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("div",{className:"shops",style:{display:"grid"},children:[Object(S.jsx)(u.b,{to:"/about",style:{gridRow:"1",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(S.jsx)($.d,{style:{height:"1em",width:"1em"}})}),Object(S.jsx)("label",{htmlFor:"deliver",className:"browseShopLabels",style:{gridRow:"1"},children:"Delivery"}),Object(S.jsx)("input",{type:"checkbox",name:"delivery",className:"browseCheckboxes",style:{gridRow:"1"}})]}),e?Object(S.jsx)("div",{children:Object(S.jsxs)("p",{style:{fontSize:"9pt"},children:[Object(S.jsx)($.c,{style:{height:"1em",width:"1em"}}),"These preferences can be saved in your profile settings"]})}):null,Object(S.jsx)("hr",{})]})]})}}]),s}(a.Component),ue=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isSearchable:!1},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this.props.show?"modal showModal":"modal hideModal",t=this.props.overwrite,s=this.props.userBaskets.find((function(e){return e.value==t})),a={select:function(e){return Object(q.a)(Object(q.a)({},e),{},{border:"0px"})},option:function(e,t){return Object(q.a)(Object(q.a)({},e),{},{background:"var(--background-1)"})}};return Object(S.jsx)("div",{className:e,children:Object(S.jsxs)("section",{className:"modal-main",style:{padding:"20pt"},children:[Object(S.jsxs)("div",{className:"modal-top",children:[Object(S.jsx)($.b,{style:{margin:"auto 0",height:"1.75rem",width:"1.75rem"}}),Object(S.jsx)("h3",{style:{margin:"auto 0",marginLeft:"5pt"},children:"Save Basket"}),Object(S.jsx)("div",{className:"modal-close",children:Object(S.jsx)("button",{className:"button",style:{background:"none",border:"none"},type:"button",onClick:this.props.handleClose,children:Object(S.jsx)($.e,{})})})]}),Object(S.jsx)("div",{className:"modal-content",children:Object(S.jsxs)("form",{id:"save",onSubmit:this.props.saveBasket,children:[Object(S.jsx)("h4",{style:{fontSize:"1.2rem"},children:"Create New Save"}),Object(S.jsx)("hr",{style:{backgroundColor:"var(--text-1)"}}),Object(S.jsxs)("div",{className:"form-check",children:[Object(S.jsx)("input",{type:"radio",className:"form-check-input",defaultChecked:!0,id:"new",name:"savetype",value:"new"}),Object(S.jsx)("label",{className:"form-check-label",htmlFor:"new",style:{fontSize:"0.9rem"},children:"Create New Save"})]}),Object(S.jsx)("input",{type:"text",name:"savename",className:"form-control save-name-input",placeholder:"Input Save Name..."}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("h4",{style:{fontSize:"1.2rem"},children:"Overwrite an Existing Save"}),Object(S.jsx)("hr",{style:{backgroundColor:"var(--text-1)"}}),Object(S.jsxs)("div",{className:"form-check",children:[Object(S.jsx)("input",{type:"radio",className:"form-check-input",id:"overwrite",name:"savetype",value:"ow"}),Object(S.jsx)("label",{className:"form-check-label",htmlFor:"overwrite",style:{fontSize:"0.9rem"},children:"Overwrite"})]}),Object(S.jsx)(Y.a,{options:this.props.userBaskets,value:s,styles:a,onChange:this.props.handleSelect,isSearchable:!1,theme:function(e){return Object(q.a)(Object(q.a)({},e),{},{borderRadius:"10px",colors:Object(q.a)(Object(q.a)({},e.colors),{},{primary:"var(--accent-1)",primary25:"var(--background-1)",primary50:"var(--text-1)",primary75:"var(--text-1)",neutral0:"var(--background-2)",neutral80:"var(--text-1)"})})}})]})}),Object(S.jsxs)("div",{className:"modal-footer",children:[Object(S.jsx)("div",{className:"",style:{height:"min-content"},children:Object(S.jsx)("button",{className:"button b-save",style:{height:"min-content"},type:"submit",form:"save",children:"Save"})}),Object(S.jsx)("div",{className:"",children:Object(S.jsx)("button",{className:"button b-close",style:{background:"none"},type:"button",onClick:this.props.handleClose,children:"Close"})})]})]})})}}]),s}(a.Component),be=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={loading:!0,reloading:!1,show:!1,showConfirm:!1,showError:!1,price:0,currentUser:{username:""},products:[{term:"",found:!1,item:{url:"",shop:"",product_name:"",product_price:"",product_additionals:""}}],userBaskets:[],refine:{products:[],shops:{asda:"1",coop:"1",tesco:"1",aldi:"1",sains:"1"},type:"new",orderby:"1"},save:{products:[],type:"",name:"",user:{username:""},overwrite:"",price:""}},e.submitRefiner=e.submitRefiner.bind(Object(c.a)(e)),e.handleSelect=e.handleSelect.bind(Object(c.a)(e)),e.handleClick=e.handleClick.bind(Object(c.a)(e)),e.removeSelf=e.removeSelf.bind(Object(c.a)(e)),e.saveBasket=e.saveBasket.bind(Object(c.a)(e)),e.handleClose=e.handleClose.bind(Object(c.a)(e)),e.handleShow=e.handleShow.bind(Object(c.a)(e)),e}return Object(o.a)(s,[{key:"callSaveAPI",value:function(){var e=this;fetch("https://eshopapi.ryananderson.uk/api/basket/save",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.save)}).then((function(t){e.setState({showConfirm:!0},(function(){setTimeout((function(){e.setState({showConfirm:!1})}),5e3)}))})).then((function(t){return e.callAPI()}))}},{key:"callAPI",value:function(){var e=this;this.state.currentUser?fetch("https://eshopapi.ryananderson.uk/api/basket/get/all",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.currentUser)}).then((function(e){return e.json()})).then((function(t){return e.setState({loading:!1,reloading:!1,userBaskets:t})})):this.setState({loading:!1,reloading:!1})}},{key:"callFindAPI",value:function(){var e=this;fetch("https://eshopapi.ryananderson.uk/api/basket/find",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.refine)}).then((function(e){return e.json()})).then((function(t){if(void 0===t.items){for(var s=[],a=0;a<e.state.refine.products.length;a++)s.push({term:e.state.refine.products[a],found:!1,item:{url:"",shop:"",product_name:"Something went wrong",product_price:"",product_additionals:""}});e.setState({loading:!1,reloading:!1,products:s,price:0})}else e.setState({loading:!1,reloading:!1,products:t.items,price:t.total})}))}},{key:"handleClick",value:function(e){var t=this.state.products;t.push({term:"",found:!1,item:{url:"",shop:"",product_name:"",product_price:"",product_additionals:""}}),this.setState({products:t})}},{key:"handleSelect",value:function(e){var t=e.value;this.setState({save:{products:this.state.products,type:this.state.type,name:this.state.name,overwrite:t,price:this.state.save.price}})}},{key:"submitRefiner",value:function(e){for(var t=this,s=e.target,a=[],n=0;n<this.state.products.length;n++)a[n]=this.state.products[n].term;for(var i=!0,r=1;r<6;r++)s[r].checked&&(i=!1);this.setState({refine:{products:a,shops:{asda:s[1].checked?1:0,coop:s[5].checked?1:0,tesco:s[3].checked?1:0,aldi:s[2].checked?1:0,sains:s[4].checked?1:0},delivery:s[6].checked?1:0},reloading:!0,showError:i},(function(){i?t.setState({reloading:!1}):t.callFindAPI()})),e.preventDefault()}},{key:"removeSelf",value:function(e){var t=this.state.products;e>-1&&t.splice(e,1),this.setState({products:t})}},{key:"saveBasket",value:function(e){var t=this,s=e.target,a="",n="";s[0].checked?(a="new",n=s[1].value):s[2].checked&&(a="overwrite");for(var i=[],r=this.state.products,o=0;o<r.length;o++){var c={term:r[o].term,item:r[o].item.url,shop:r[o].item.shop};i.push(c)}this.setState({save:{products:i,type:a,name:n,user:this.state.currentUser,overwrite:this.state.save.overwrite,price:this.state.price}},(function(){t.callSaveAPI(),t.handleClose()})),e.preventDefault()}},{key:"componentDidMount",value:function(){var e=this,t=m.getCurrentUser();this.setState({currentUser:t},(function(){e.callAPI()}))}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this,t=this.state,s=t.products,a=t.show,n=t.userBaskets,i=Object(S.jsx)("p",{});try{i=s.map((function(t,s){return Object(S.jsx)(ce,{product:t,prodKey:s,removeSelf:e.removeSelf},s)}))}catch(r){i=Object(S.jsx)("p",{children:"Oh No, something went very wrong, please reload"}),this.setState({products:[]})}return Object(S.jsxs)("div",{style:{width:"100%"},children:[Object(S.jsx)(Z.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"var(--accent-1)",loading:this.state.loading}),Object(S.jsx)(ue,{handleClose:this.handleClose,show:a,saveBasket:this.saveBasket,handleSelect:this.handleSelect,userBaskets:n}),Object(S.jsxs)("p",{className:this.state.loading?"":"hidden",style:{textAlign:"center"},children:[Object(S.jsx)("br",{}),"Loading"]}),Object(S.jsxs)("div",{className:"browseProds",children:[Object(S.jsx)(v.a,{minWidth:1224,children:Object(S.jsx)(he,{loading:this.state.loading,handleShow:this.handleShow,products:this.state.products.length,saveBasket:this.saveBasket,handleSelect:this.handleSelect,submitRefiner:this.submitRefiner})}),Object(S.jsx)(v.a,{maxWidth:1224,children:Object(S.jsx)(de,{loading:this.state.loading,handleShow:this.handleShow,products:this.state.products.length,saveBasket:this.saveBasket,handleSelect:this.handleSelect,submitRefiner:this.submitRefiner})}),Object(S.jsxs)("ul",{className:this.state.loading?"hidden":"xyz",children:[Object(S.jsx)(Z.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"var(--accent-1)",loading:this.state.reloading}),Object(S.jsxs)("div",{className:this.state.reloading?"hidden":"disp-ro",children:[i,Object(S.jsx)(le,{handleClick:this.handleClick})]})]})]}),Object(S.jsxs)("div",{className:this.state.reloading?"hidden":"price-section",children:[Object(S.jsxs)("p",{style:{width:"max-content",height:"max-content",margin:"auto 0"},children:["Total Price: \xa3",this.state.price]}),Object(S.jsx)("input",{type:"submit",value:"Find Best Basket!",className:"button",form:"x1",style:{width:"max-content",margin:"auto 10pt auto auto",height:"max-content"}})]}),Object(S.jsxs)("div",{className:this.state.showError?"confirmation alert alert-danger":"hidden",children:[Object(S.jsx)($.c,{}),"No Shops Selected!"]}),Object(S.jsxs)("div",{className:this.state.showConfirm?"confirmation alert alert-success":"hidden",children:[Object(S.jsx)($.c,{}),"Basket Saved"]})]})}}]),s}(a.Component),pe=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(S.jsxs)("div",{style:{width:"80%",margin:"0 auto "},children:[Object(S.jsx)("h1",{style:{marginTop:"20pt"},children:"Our use of cookies and similar technologies"}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{style:{fontSize:"12pt"},children:"Our services use cookies and other similar technologies, such as local storage, to help provide you with a better, faster, and safer experience. Here are some of the ways that our website use these technologies: to log you in, save your preferences, personalize the content you see, and the layout of the system"}),Object(S.jsx)("h2",{children:"What are cookies and local storage?"}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{style:{fontSize:"12pt"},children:"Cookies are small files that websites place on your computer as you browse the web. Like many websites, Twitter, Periscope, and our other services use cookies to discover how people are using our services and to make them work better."}),Object(S.jsx)("p",{style:{fontSize:"12pt"},children:"Local storage is an industry-standard technology that allows a website or application to store information locally on your computer or mobile device. We use local storage to customize what we show you based on your past interactions with our services."}),Object(S.jsx)("h2",{children:"Why do our services use these technologies?"}),Object(S.jsx)("p",{style:{fontSize:"12pt"},children:"Our services use these technologies to deliver, measure, and improve our services in various ways. These uses generally fall into one of the following categories:"}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:Object(S.jsx)("b",{children:"Authentication and security:"})}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"To log you into Best Basket."}),Object(S.jsx)("li",{children:"To let you to view certain content."}),Object(S.jsx)("li",{children:"For example, these technologies help authenticate your access to Best Basket and prevent unauthorized parties from accessing your account."})]})]}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:Object(S.jsx)("b",{children:"Preferences:"})}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"To remember information about your browser and your preferences."}),Object(S.jsx)("li",{children:"For example, cookies help to remember your cookie preferences and the colour scheme affecting the layout of the site for the next time your access Best Basket."})]})]}),Object(S.jsx)("h2",{children:"Where are these technologies used?"}),Object(S.jsx)("p",{style:{fontSize:"12pt"},children:"These cookies are only used within the Best Basket website and are not shared outside your local machine."}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]})}}]),s}(a.Component),je=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={loading:!0,reloading:!1,showConfirm:!1,show:!1,price:0,basketID:{id:0},currentUser:{username:""},products:[{term:"",found:!1,item:{url:"",shop:"",product_name:"",product_price:"",product_additionals:""}}],userBaskets:[],refine:{products:[],shops:{asda:"1",coop:"1",tesco:"1",aldi:"1",sains:"1"},type:"new",orderby:"1"},save:{products:[],type:"",name:"",user:{username:""},overwrite:"",price:""}},e.submitRefiner=e.submitRefiner.bind(Object(c.a)(e)),e.handleSelect=e.handleSelect.bind(Object(c.a)(e)),e.handleClick=e.handleClick.bind(Object(c.a)(e)),e.removeSelf=e.removeSelf.bind(Object(c.a)(e)),e.saveBasket=e.saveBasket.bind(Object(c.a)(e)),e.handleClose=e.handleClose.bind(Object(c.a)(e)),e.handleShow=e.handleShow.bind(Object(c.a)(e)),e}return Object(o.a)(s,[{key:"callSaveAPI",value:function(){var e=this;fetch("https://eshopapi.ryananderson.uk/api/basket/save",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.save)}).then((function(t){e.setState({showConfirm:!0},(function(){setTimeout((function(){e.setState({showConfirm:!1})}),5e3)}))})).then((function(t){return e.updateBaskets()}))}},{key:"updateBaskets",value:function(){var e=this;fetch("https://eshopapi.ryananderson.uk/api/basket/get/all",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.currentUser)}).then((function(e){return e.json()})).then((function(t){return e.setState({userBaskets:t})}))}},{key:"callAPI",value:function(){var e=this;fetch("https://eshopapi.ryananderson.uk/api/basket/get/all",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.currentUser)}).then((function(e){return e.json()})).then((function(t){for(var s=0,a=0;a<t.length;a++)t[a].value==e.state.basketID.id&&(s=t[a].price);e.setState({userBaskets:t,price:s})})).then((function(t){fetch("https://eshopapi.ryananderson.uk/api/basket/get",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(e.state.basketID)}).then((function(e){return e.json()})).then((function(t){return e.setState({products:t,loading:!1,reloading:!1})}))}))}},{key:"callFindAPI",value:function(){var e=this;fetch("https://eshopapi.ryananderson.uk/api/basket/find",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(this.state.refine)}).then((function(e){return e.json()})).then((function(t){if(void 0===t.items){for(var s=[],a=0;a<e.state.refine.products.length;a++)s.push({term:e.state.refine.products[a],found:!1,item:{url:"",shop:"",product_name:"Something went wrong",product_price:"",product_additionals:""}});e.setState({loading:!1,reloading:!1,products:s,price:0})}else e.setState({loading:!1,reloading:!1,products:t.items,price:t.total})}))}},{key:"handleClick",value:function(e){var t=this.state.products;t.push({term:"",found:!1,item:{url:"",shop:"",product_name:"",product_price:"",product_additionals:""}}),this.setState({products:t})}},{key:"handleSelect",value:function(e){var t=e.value;this.setState({save:{products:this.state.products,type:this.state.type,name:e.label,overwrite:t,price:this.state.save.price}})}},{key:"submitRefiner",value:function(e){for(var t=this,s=e.target,a=[],n=0;n<this.state.products.length;n++)a[n]=this.state.products[n].term;for(var i=!0,r=1;r<6;r++)s[r].checked&&(i=!1);this.setState({refine:{products:a,shops:{asda:s[1].checked?1:0,coop:s[5].checked?1:0,tesco:s[3].checked?1:0,aldi:s[2].checked?1:0,sains:s[4].checked?1:0},delivery:s[6].checked?1:0},reloading:!0,showError:i},(function(){i?t.setState({reloading:!1}):t.callFindAPI()})),e.preventDefault()}},{key:"removeSelf",value:function(e){var t=this.state.products;e>-1&&t.splice(e,1),this.setState({products:t})}},{key:"saveBasket",value:function(e){var t=this,s=e.target,a="",n="";s[0].checked?(a="new",n=s[1].value):s[2].checked&&(a="overwrite",n=this.state.save.name);for(var i=[],r=this.state.products,o=0;o<r.length;o++){var c={term:r[o].term,item:r[o].item.url,shop:r[o].item.shop};i.push(c)}this.setState({save:{products:i,type:a,name:n,user:this.state.currentUser,overwrite:this.state.save.overwrite,price:this.state.price}},(function(){t.callSaveAPI(),t.handleClose()})),e.preventDefault()}},{key:"componentDidMount",value:function(){var e=this,t=m.getCurrentUser(),s=this.state.save;s.overwrite=this.props.match.params.id,this.setState({currentUser:t,basketID:{id:this.props.match.params.id},save:s},(function(){e.callAPI()}))}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this,t=this.state,s=t.products,a=t.show,n=t.userBaskets,i=Object(S.jsx)("p",{});try{i=s.map((function(t,s){return Object(S.jsx)(ce,{product:t,prodKey:s,removeSelf:e.removeSelf},s)}))}catch(r){i=Object(S.jsx)("p",{children:"Oh No, something went very wrong, please reload"})}return Object(S.jsxs)("div",{style:{width:"100%"},children:[Object(S.jsx)(Z.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"var(--accent-1)",loading:this.state.loading}),Object(S.jsx)(ue,{handleClose:this.handleClose,overwrite:this.props.match.params.id,show:a,saveBasket:this.saveBasket,handleSelect:this.handleSelect,userBaskets:n}),Object(S.jsxs)("p",{className:this.state.loading?"":"hidden",style:{textAlign:"center"},children:[Object(S.jsx)("br",{}),"Loading"]}),Object(S.jsxs)("div",{className:"browseProds",children:[Object(S.jsx)(v.a,{minWidth:1224,children:Object(S.jsx)(he,{loading:this.state.loading,handleShow:this.handleShow,products:this.state.products.length,saveBasket:this.saveBasket,handleSelect:this.handleSelect,submitRefiner:this.submitRefiner})}),Object(S.jsx)(v.a,{maxWidth:1224,children:Object(S.jsx)(de,{handleShow:this.handleShow,loading:this.state.loading,products:this.state.products.length,handleSelect:this.handleSelect,submitRefiner:this.submitRefiner})}),Object(S.jsxs)("ul",{className:this.state.loading?"hidden":"xyz",children:[Object(S.jsx)(Z.a,{css:"display: block;margin: 0 auto;border-color: red;",size:150,color:"var(--accent-1)",loading:this.state.reloading}),Object(S.jsxs)("div",{className:this.state.reloading?"hidden":"",children:[i,Object(S.jsx)(le,{handleClick:this.handleClick})]})]})]}),Object(S.jsxs)("div",{className:this.state.reloading?"hidden":"price-section",children:[Object(S.jsxs)("p",{style:{width:"max-content",height:"max-content",margin:"auto 0"},children:["Total Price: \xa3",this.state.price]}),Object(S.jsx)("input",{type:"submit",value:"Find Best Basket!",className:"button",form:"x1",style:{width:"max-content",margin:"auto 10pt auto auto",height:"max-content"}})]}),Object(S.jsxs)("div",{className:this.state.showError?"confirmation alert alert-danger":"hidden",children:[Object(S.jsx)($.c,{}),"No Shops Selected!"]}),Object(S.jsxs)("div",{className:this.state.showConfirm?"confirmation alert alert-success":"hidden",children:[Object(S.jsx)($.c,{}),"Basket Saved"]})]})}}]),s}(a.Component),me=(a.Component,s(202),function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).logOut=a.logOut.bind(Object(c.a)(a)),a.notSearch=a.notSearch.bind(Object(c.a)(a)),a.search=a.search.bind(Object(c.a)(a)),a.state={currentUser:void 0,search:"",open:!0,cookies:"false"},a.toggleMenu=a.toggleMenu.bind(Object(c.a)(a)),a.getLogo=a.getLogo.bind(Object(c.a)(a)),a.hideCookies=a.hideCookies.bind(Object(c.a)(a)),a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=m.getCurrentUser();this.getTheme(),this.getLogo(),this.getCookies(),"/"!==window.location.pathname&&"/home"!==window.location.pathname||this.setState({search:"Search"}),e&&this.setState({currentUser:e})}},{key:"notSearch",value:function(){this.setState({search:""}),!1===this.state.open&&this.toggleMenu()}},{key:"getTheme",value:function(){var e=localStorage.getItem("theme");null===e?document.documentElement.setAttribute("data-theme","light"):document.documentElement.setAttribute("data-theme",e)}},{key:"hideCookies",value:function(){this.setState({cookies:"true"}),localStorage.setItem("cookies","true")}},{key:"getCookies",value:function(){var e=localStorage.getItem("cookies");null===e?this.setState({cookies:"false"}):this.setState({cookies:e})}},{key:"getLogo",value:function(){var e=localStorage.getItem("theme");document.getElementsByClassName("navbar-brand")[0].children[0].src="dark"===e?"https://bestbasket.ryananderson.uk/eshoplogodark.png":"https://bestbasket.ryananderson.uk/eshoplogolight.png"}},{key:"search",value:function(){this.setState({search:"Search"}),!1===this.state.open&&this.toggleMenu()}},{key:"logOut",value:function(){!1===this.state.open&&this.toggleMenu(),this.setState({search:""}),m.logout()}},{key:"toggleMenu",value:function(){this.state.open?this.setState({open:!1}):this.setState({open:!0})}},{key:"render",value:function(){var e=this,t=this.state.currentUser;return Object(S.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},className:this.state.open?"":"hide-content",children:[Object(S.jsxs)("nav",{className:"navbar navbar-expand navcolour",children:[Object(S.jsx)(v.a,{minWidth:1224,children:Object(S.jsx)(ne,{currentUser:t,getLogo:this.getLogo,logOut:this.logOut,notSearch:this.notSearch,search:this.search})}),Object(S.jsx)(v.a,{maxWidth:1224,children:Object(S.jsx)(re,{currentUser:t,getLogo:this.getLogo,open:this.state.open,toggleMenu:this.toggleMenu,notSearch:this.notSearch,search:this.search})})]}),Object(S.jsx)(v.a,{maxWidth:1224,children:Object(S.jsx)(ie,{currentUser:t,open:this.state.open,logOut:this.logOut,notSearch:this.notSearch,search:this.search})}),Object(S.jsx)("div",{className:this.state.search,style:{display:"flex",flexGrow:"2",justifyContent:"center"},children:Object(S.jsxs)(d.d,{children:[Object(S.jsx)(d.b,{exact:!0,path:["/","/home"],render:function(t){return Object(S.jsx)(D,{notSearch:e.notSearch,history:t.history,location:t.location,match:t.match})}}),Object(S.jsx)(d.b,{exact:!0,path:"/login",component:C}),Object(S.jsx)(d.b,{exact:!0,path:"/register",component:I}),Object(S.jsx)(d.b,{path:"/search/:term",component:te}),Object(S.jsx)(d.b,{exact:!0,path:"/profile",component:F}),Object(S.jsx)(d.b,{exact:!0,path:"/settings",render:function(t){return Object(S.jsx)(ae,{getLogo:e.getLogo})}}),Object(S.jsx)(d.b,{path:"/user",component:E}),Object(S.jsx)(d.b,{path:"/browse",component:ee}),Object(S.jsx)(d.b,{path:"/about",component:oe}),Object(S.jsx)(d.b,{path:"/basket/:id",component:je}),Object(S.jsx)(d.b,{path:"/basket",component:be}),Object(S.jsx)(d.b,{path:"/cookies",component:pe}),Object(S.jsx)(d.b,{component:se})]})}),"true"===this.state.cookies?null:Object(S.jsxs)("div",{style:{position:"fixed",height:"60pt",width:"100%",bottom:"0",zIndex:"9",backgroundColor:"var(--background-2)",display:"flex"},children:[Object(S.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(S.jsx)("p",{style:{height:"min-content",marginBottom:"0",marginLeft:"10pt",fontSize:"10pt"},children:"By using Best Basket, you accept the use of cookies on this browser."}),Object(S.jsxs)("p",{style:{height:"min-content",marginBottom:"0",marginLeft:"10pt",fontSize:"10pt"},children:["You can read more in our"," ",Object(S.jsx)(u.b,{to:"/cookies",className:"nav-link",onClick:this.notSearch,style:{display:"inline",padding:"0",textDecoration:"underline"},children:"Cookie Policy"}),"."]})]}),Object(S.jsx)("div",{style:{marginLeft:"auto",display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(S.jsx)("button",{className:"button b-alt",onClick:this.hideCookies,style:{height:"min-content",marginRight:"10pt"},children:"Close"})})]})]})}}]),s}(a.Component));i.a.render(Object(S.jsx)(u.a,{children:Object(S.jsx)(me,{})}),document.getElementById("root"))},79:function(e,t,s){},80:function(e,t,s){}},[[204,1,2]]]);
//# sourceMappingURL=main.81e7c7b8.chunk.js.map