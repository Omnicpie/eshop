{"version":3,"sources":["services/auth.service.js","components/login.component.js","components/register.component.js","components/Search.jsx","components/home.component.js","components/Basket.jsx","components/profile.component.js","services/auth-header.js","services/user.service.js","components/board-user.component.js","components/Product.jsx","components/BrowseRefinePC.jsx","components/BrowseRefineMobile.jsx","components/Browse.jsx","components/SearchResult.jsx","components/NotFound.jsx","components/Settings.jsx","components/NavPC.jsx","components/NavMobile.jsx","components/NavMobile2.jsx","components/About.jsx","components/ProductEmpty.jsx","components/ProductAdd.jsx","components/BasketRefinePC.jsx","components/BasketRefineMobile.jsx","components/Modal.jsx","components/BasketConfig.jsx","components/Cookies.jsx","components/BasketLoad.jsx","App.js","components/ToPrev.jsx","index.js"],"names":["API_URL","display_name","password","axios","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","removeItem","email","parse","getItem","required","value","className","role","Login","props","handleLogin","bind","onChangeUsername","onChangePassword","state","username","loading","message","e","this","setState","target","preventDefault","form","validateAll","checkBtn","context","_errors","length","AuthService","login","history","push","window","location","reload","error","resMessage","toString","src","alt","onSubmit","ref","c","htmlFor","type","name","onChange","validations","style","width","disabled","display","Component","isEmail","vusername","vpassword","Register","handleRegister","onChangeEmail","onChangePassword2","password2","successful","checkPass","register","msg","console","log","fontSize","to","href","textAlign","Search","submit","event","term","notSearch","action","method","placeholder","id","Home","content","justifyContent","margin","padding","background","Basket","position","border","borderCollapse","onMouseEnter","showDelete","onMouseLeave","hideDelete","borderLeft","marginRight","basket","label","price","num_prods","height","onClick","deleteBasket","Profile","redirect","userReady","currentUser","savedBaskets","reloading","fetch","headers","body","res","json","getBaskets","getCurrentUser","renderSaved","map","authHeader","user","get","BoardUser","UserService","getUserBoard","Product","shops","shop","product","index","fontColor","backgroundColor","url","findRibbon","getShop","product_name","product_price","BrowseRefinePC","options","styles","select","base","option","provided","float","flexGrow","flexDirection","submitRefiner","marginTop","products","gridRow","defaultValue","handleSelect","theme","borderRadius","colors","primary","primary25","primary50","primary75","neutral0","neutral80","BrowseRefineMobile","open","toggleMenu","marginBottom","Browse","showError","refine","asda","coop","tesco","aldi","sains","orderby","currentPage","productsPerPage","upperPageBound","lowerPageBound","isPrevBtnActive","isNextBtnActive","pageBound","handleClick","btnDecrementClick","btnIncrementClick","btnNextClick","btnPrevClick","setPrevAndNextBtnClass","$","removeClass","addClass","listid","Number","totalPage","Math","ceil","selectedOption","x","clear","i","checked","callAPI","indexOfLastTodo","indexOfFirstTodo","renderproducts","slice","pageNumbers","renderPageNumbers","number","pageIncrementBtn","pageDecrementBtn","renderPrevBtn","color","renderNextBtn","css","size","minWidth","maxWidth","SearchResult","search","results","product_additionals","catch","err","match","params","result","NotFound","Settings","userInfo","document","documentElement","setAttribute","getElementsByClassName","children","out","time","createdAt","Date","toLocaleTimeString","undefined","year","month","day","getDetails","getElementById","formatTime","setTheme","NavPC","getIcon","logOut","NavMobile","About","lastupdate","item","date","shopUpdates","shop1","toLocaleDateString","listStyle","ProductEmpty","visable","warn","handleChange","removeSelf","prodKey","prevProps","prevState","snapshot","zIndex","cursor","shopIconStyle","found","rel","ProductAdd","BasketRefinePC","handleShow","textDecoration","BasketRefineMobile","Modal","isSearchable","showClass","show","overwrite","userBaskets","find","element","marginLeft","handleClose","saveBasket","defaultChecked","BasketConfig","showConfirm","save","setTimeout","items","total","terms","delivery","callFindAPI","prods","splice","callSaveAPI","key","Cookies","basketID","updateBaskets","savepre","App","require","cookies","getLogo","hideCookies","getTheme","getCookies","pathname","logout","NavMobile2","exact","path","render","component","BasketLoad","bottom","ReactDOM"],"mappings":"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","file":"static/js/main.bdbc0487.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"https://eshopapi.ddns.net/api/auth/\";\r\n\r\nclass AuthService {\r\n  login(display_name, password) {\r\n    return axios\r\n      .post(API_URL + \"signin\", {\r\n        display_name,\r\n        password\r\n      })\r\n      .then(response => {\r\n        if (response.data.accessToken) {\r\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n        }\r\n\r\n        return response.data;\r\n      });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem(\"user\");\r\n  }\r\n\r\n  register(display_name, email, password) {\r\n    return axios.post(API_URL + \"signup\", {\r\n      display_name,\r\n      email,\r\n      password\r\n    });\r\n  }\r\n\r\n  getCurrentUser() {\r\n    return JSON.parse(localStorage.getItem('user'));;\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n    this.onChangeUsername = this.onChangeUsername.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      username: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  }\r\n\r\n  handleLogin(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      message: \"\",\r\n      loading: true\r\n    });\r\n\r\n    this.form.validateAll();\r\n\r\n    if (this.checkBtn.context._errors.length === 0) {\r\n      AuthService.login(this.state.username, this.state.password).then(\r\n        () => {\r\n          this.props.history.push(\"/profile\");\r\n          window.location.reload();\r\n        },\r\n        error => {\r\n          const resMessage =\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n\r\n          this.setState({\r\n            loading: false,\r\n            message: resMessage\r\n          });\r\n        }\r\n      );\r\n    } else {\r\n      this.setState({\r\n        loading: false\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"col-md-12\">\r\n        <div className=\"card card-container\">\r\n          <img\r\n            src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\r\n            alt=\"profile-img\"\r\n            className=\"profile-img-card\"\r\n          />\r\n\r\n          <Form\r\n            onSubmit={this.handleLogin}\r\n            ref={c => {\r\n              this.form = c;\r\n            }}\r\n          >\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"username\">Username</label>\r\n              <Input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"username\"\r\n                value={this.state.username}\r\n                onChange={this.onChangeUsername}\r\n                validations={[required]}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <Input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                name=\"password\"\r\n                value={this.state.password}\r\n                onChange={this.onChangePassword}\r\n                validations={[required]}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <button className=\"button b-alt\" style={{width:\"100%\"}} disabled={this.state.loading}>\r\n                {this.state.loading && (\r\n                  <span className=\"spinner-border spinner-border-sm\"></span>\r\n                )}\r\n                <span>Login</span>\r\n              </button>\r\n            </div>\r\n\r\n            {this.state.message && (\r\n              <div className=\"form-group\">\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                  Invalid user or password\r\n                </div>\r\n              </div>\r\n            )}\r\n            <CheckButton  \r\n              style={{ display: \"none\" }}\r\n              ref={c => {\r\n                this.checkBtn = c;\r\n              }}\r\n            />\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport {Link} from \"react-router-dom\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { isEmail } from \"validator\";\r\n\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This field is required!\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst email = value => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        This is not a valid email.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vusername = value => {\r\n  if (value.length < 3 || value.length > 20) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        The username must be between 3 and 20 characters.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vpassword = value => {\r\n  if (value.length < 6 || value.length > 40) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        The password must be between 6 and 40 characters.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleRegister = this.handleRegister.bind(this);\r\n    this.onChangeUsername = this.onChangeUsername.bind(this);\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.onChangePassword2 = this.onChangePassword2.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      successful: false,\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      username: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangePassword2(e) {\r\n    this.setState({\r\n      password2: e.target.value\r\n    });\r\n  }\r\n\r\n  handleRegister(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      message: \"\",\r\n      successful: false\r\n    });\r\n\r\n    this.form.validateAll();\r\n    let checkPass = true\r\n    if(this.state.password !== this.state.password2){\r\n      checkPass = false\r\n      this.setState({\r\n        message: \"Passwords Do not match\",\r\n        successful: false\r\n      });\r\n    }\r\n\r\n    if (this.checkBtn.context._errors.length === 0 && checkPass === true) {\r\n      AuthService.register(\r\n        this.state.username,\r\n        this.state.email,\r\n        this.state.password\r\n      ).then(\r\n        response => {\r\n          this.setState({\r\n            message: response.data.msg,\r\n            successful: true\r\n          });\r\n        },\r\n        error => {\r\n          console.log(error.response.data.msg)\r\n          const resMessage = error.response.data.msg\r\n\r\n          this.setState({\r\n            successful: false,\r\n            message: resMessage\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"col-md-12\">\r\n        <div className=\"card card-container\">\r\n          <img\r\n            src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\r\n            alt=\"profile-img\"\r\n            className=\"profile-img-card\"\r\n          />\r\n\r\n          <Form\r\n            onSubmit={this.handleRegister}\r\n            ref={c => {\r\n              this.form = c;\r\n            }}\r\n          >\r\n            {!this.state.successful && (\r\n              <div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"username\">Username</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"username\"\r\n                    value={this.state.username}\r\n                    onChange={this.onChangeUsername}\r\n                    validations={[required, vusername]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Email</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"email\"\r\n                    value={this.state.email}\r\n                    onChange={this.onChangeEmail}\r\n                    validations={[required, email]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                    value={this.state.password}\r\n                    onChange={this.onChangePassword}\r\n                    validations={[required, vpassword]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password2\">Confirm Password</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    name=\"password2\"\r\n                    value={this.state.password2}\r\n                    onChange={this.onChangePassword2}\r\n                    validations={[required, vpassword]}\r\n                  />\r\n                </div>\r\n                <div style={{fontSize: \"7pt\"}}>By Signing up you agree to our <Link to=\"/cookies\">cookie policy</Link>, and to storing the details given above in accordence with <a href=\"https://www.legislation.gov.uk/ukpga/2018/12/contents/enacted\">DPA 2018</a>.</div>\r\n                <div className=\"form-group\">\r\n                  <button className=\"button b-alt\" style={{width:\"100%\"}}>Sign Up</button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {this.state.message && (\r\n              <div className=\"form-group\">\r\n                <div\r\n                  className={\r\n                    this.state.successful\r\n                      ? \"alert alert-success\"\r\n                      : \"alert alert-danger\"\r\n                  }\r\n                  role=\"alert\"\r\n                >\r\n                  {this.state.message}\r\n                </div>\r\n                {this.state.successful ? <Link to=\"/login\" className=\"button b-alt\" style={{display: \"block\", textAlign: \"center\"}}>Login</Link>: null}\r\n              </div>\r\n            )}\r\n            <CheckButton\r\n              style={{ display: \"none\" }}\r\n              ref={c => {\r\n                this.checkBtn = c;\r\n              }}\r\n            />\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { BiSearchAlt } from \"react-icons/bi\";\r\n\r\n\r\nclass Search extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n\r\n        }\r\n        this.submit = this.submit.bind(this);\r\n    }\r\n\r\n    submit(event){\r\n        let term = event.target[0].value\r\n        this.props.history.push(\"/search/\"+term);\r\n        this.props.notSearch();\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <div>\r\n                <form action=\"#\" method=\"#\" role=\"search\" onSubmit={this.submit}>\r\n                    <div className=\"input-group\">\r\n                        <input className=\"form-control form-control-search\" placeholder=\"Search for products. . .\" name=\"srch-term\" id=\"ed-srch-term\" type=\"text\"/>\r\n                        <div className=\"input-btn\">\r\n                            <button type=\"submit\" id=\"searchbtn\"><BiSearchAlt/></button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Search;","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport Search from \"./Search\";\r\n\r\nexport default class Home extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcontent: \"\"\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container\" style={{display: \"flex\",justifyContent: \"center\",margin: \"auto\", padding: \"60px 15px\",  background: \"var(--background-2)\"}}>\r\n\t\t\t\t<header className=\"\" style={{width: \"100%\"}}>\r\n\t\t\t\t\t<Search history={this.props.history} notSearch={this.props.notSearch}/>\r\n\t\t\t\t</header>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Basket extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {}\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"product2\" style={{ display: 'flex', position: 'relative', width: '80%', margin: 'auto', border: '1px outset black', borderCollapse: 'collapse' }} onMouseEnter={this.showDelete} onMouseLeave={this.hideDelete}>\r\n                <div style={{ borderLeft: '1px solid #dbdbdb', marginRight: '20px' }}></div>\r\n                <div >\r\n                    <div>\r\n                        <p>{this.props.basket.label}</p>\r\n                        <p style={{fontSize: \"0.8em\"}}>Total price: £{this.props.basket.price} | Items: {this.props.basket.num_prods}</p>\r\n                    </div>\r\n                </div>\r\n                <div style={{margin:\"auto 0 auto auto\", height: \"max-content\"}}>\r\n                    <Link to={\"/basket/\" + this.props.basket.value} className=\"nav-link\"><div className=\"btn btn-secondary\">Edit Basket</div></Link>\r\n                </div>\r\n                <div style={{margin:\"auto 10pt auto 10pt\", height: \"max-content\"}}>\r\n                    <div className=\"btn btn-danger\" onClick={this.props.deleteBasket} id={this.props.basket.value}>Delete Basket</div>\r\n                </div>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Basket;","import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport Basket from \"./Basket\";\r\n\r\nexport default class Profile extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tredirect: null,\r\n\t\t\tuserReady: false,\r\n\t\t\tcurrentUser: { username: \"\" },\r\n\t\t\tsavedBaskets: [],\r\n\t\t\tloading: true,\r\n\t\t\treloading: false\r\n\t\t};\r\n\t\tthis.deleteBasket = this.deleteBasket.bind(this);\r\n\t}\r\n\tgetBaskets(){\r\n\t\t\tfetch(\"https://eshopapi.ddns.net/api/basket/get/all\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.currentUser)})\r\n\t\t\t.then(res=> res.json())\r\n\t\t\t.then(res => this.setState({ loading:false,reloading:false, savedBaskets: res }));\r\n\t}\r\n\r\n\tdeleteBasket(event){\r\n\t\tfetch(\"https://eshopapi.ddns.net/api/basket/delete\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify({basket: event.target.id})})\r\n\t\t\t.then(res=> this.setState({loading: true}, () => {\r\n\t\t\t\tthis.getBaskets()\r\n\t\t\t}));\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst currentUser = AuthService.getCurrentUser();\r\n\r\n\t\tif (!currentUser) this.setState({ redirect: \"/home\" });\r\n\t\tthis.setState({ currentUser: currentUser, userReady: true }, () =>{\r\n\t\t\tthis.getBaskets()\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect to={this.state.redirect} />\r\n\t\t}\r\n\r\n\t\tconst { currentUser, savedBaskets } = this.state;\r\n\t\tconst renderSaved = savedBaskets.map((basket) => {\r\n\t\t\treturn <Basket key={basket.value} basket={basket} deleteBasket={this.deleteBasket}/>\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t{(this.state.userReady) ?\r\n\t\t\t<div>\r\n\t\t\t\t<header className=\"jumbotron\">\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t<strong>{currentUser.display_name}</strong>'s Profile\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<Link to=\"/settings\" className=\"button\">Edit Settings</Link>\r\n\t\t\t\t</header>\r\n\t\t\t\t<hr/>\r\n\t\t\t</div>: null}\r\n\t\t\t<div>\r\n\t\t\t\t\t<h2>Saved Baskets</h2>\r\n\t\t\t\t\t{renderSaved}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","export default function authHeader() {\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n  if (user && user.accessToken) {\r\n    // return { Authorization: 'Bearer ' + user.accessToken }; // for Spring Boot back-end\r\n    return { 'x-access-token': user.accessToken };       // for Node.js Express back-end\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport authHeader from './auth-header';\r\n\r\nconst API_URL = 'https://eshopapi.ddns.net/api/test/';\r\n\r\nclass UserService {\r\n\r\n  getUserBoard() {\r\n    return axios.get(API_URL + 'user', { headers: authHeader() });\r\n  }\r\n\r\n}\r\n\r\nexport default new UserService();\r\n","import React, { Component } from \"react\";\r\n\r\nimport UserService from \"../services/user.service\";\r\n\r\nexport default class BoardUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      content: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    UserService.getUserBoard().then(\r\n      response => {\r\n        this.setState({\r\n          content: response.data\r\n        });\r\n      },\r\n      error => {\r\n        this.setState({\r\n          content:\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString()\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <header className=\"jumbotron\">\r\n          <h3>{this.state.content}</h3>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport CornerRibbon from \"react-corner-ribbon\";\r\n\r\nclass Product extends Component {\r\n    state = {\r\n        shops: {\r\n            \"asda\": \"https://upload.wikimedia.org/wikipedia/en/thumb/9/91/Asda_logo.svg/300px-Asda_logo.svg.png\",\r\n            \"tesco\": \"https://upload.wikimedia.org/wikipedia/en/thumb/b/b0/Tesco_Logo.svg/200px-Tesco_Logo.svg.png\",\r\n            \"aldi\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/AldiWorldwideLogo.svg/500px-AldiWorldwideLogo.svg.png\",\r\n            \"sains\": \"https://upload.wikimedia.org/wikipedia/commons/d/d7/Sainsbury%27s_Logo.svg\",\r\n            \"coop\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/The_Co-Operative_clover_leaf_logo.svg/500px-The_Co-Operative_clover_leaf_logo.svg.png\"\r\n        }\r\n    }\r\n\r\n    getShop() {\r\n        var shop = this.props.product.shop;\r\n        return this.state.shops[shop]\r\n    }\r\n\r\n    findRibbon(){\r\n        var index = this.props.index;\r\n        switch (index) {\r\n            case 1:\r\n                return <CornerRibbon position=\"top-left\" fontColor=\"white\" backgroundColor=\"#D6AF36\" style={{fontSize: \"10px\"}}>Best Value</CornerRibbon>;\r\n            case 2:\r\n                return <CornerRibbon position=\"top-left\" fontColor=\"white\" backgroundColor=\"#b4b4b4\" style={{fontSize: \"10px\"}}>2nd</CornerRibbon>\r\n            case 3:\r\n                return <CornerRibbon position=\"top-left\" fontColor=\"white\" backgroundColor=\"#6a3805\" style={{fontSize: \"10px\"}}>3rd</CornerRibbon>\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <a href={this.props.product.url} className=\"product\">\r\n            <div className=\"product2\" style={{ display: 'flex', position: 'relative', width: '80%', margin: 'auto', border: '1px outset black', borderCollapse: 'collapse' }}>\r\n                {this.findRibbon()}\r\n                <div className=\"typeSec\">\r\n                    <img src={this.getShop()} alt={this.props.product.shop} className=\"ShopIcon\"/>\r\n                </div>\r\n                <div style={{ borderLeft: '1px solid #dbdbdb', marginRight: '20px' }}></div>\r\n                <div className=\"InfoSec\">\r\n                    <p>{this.props.product.product_name}</p>\r\n                    <p style={{fontSize: \"0.8em\"}}>Price: {this.props.product.product_price}</p>\r\n                </div>\r\n            </div></a>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default Product;","import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\n\r\nclass BrowseRefinePC extends Component {\r\n    state = {  }\r\n    render() { \r\n        const options = [\r\n            {value: '1', label: 'Product Names A-Z'},\r\n            {value: '2', label: 'Product Names Z-A'},\r\n            {value: '3', label: 'Product Price LOW-HIGH'},\r\n            {value: '4', label: 'Product Price HIGH-LOW'},\r\n        ];\r\n        const styles = {\r\n            select: base => ({\r\n                ...base,\r\n                border: `0px`\r\n            }),\r\n            option: (provided, state) => {\r\n                const background = \"var(--background-1)\"; \r\n                return {...provided, background};\r\n            }\r\n        };\r\n        return ( \r\n            <div style={{width: \"15%\", display: \"flex\", float: \"left\", flexGrow: \"2\", flexDirection: \"column\"}}>\r\n                <form className={this.props.loading ? 'hidden': 'form-visable'} onSubmit={this.props.submitRefiner}>\r\n                    <p style={{marginTop: \"10pt\"}}>{this.props.products} products found</p>\r\n                    <hr/>\r\n                    <h4 style={{textAlign: \"center\"}}>Filter Browse</h4>\r\n                    <input className=\"form-control form-control-search-2\" type=\"text\" name=\"term\" ></input>\r\n                    <hr/>\r\n                    <div className=\"shops\" style={{display: \"grid\"}}>\r\n                        <label htmlFor=\"asda\" className=\"browseShopLabels\" style={{gridRow: \"1\"}}>Asda</label><input type=\"checkbox\" name=\"asda\" className=\"browseCheckboxes\" style={{gridRow: \"1\"}}></input>\r\n                        <label htmlFor=\"aldi\" className=\"browseShopLabels\" style={{gridRow: \"2\"}}>Aldi</label><input type=\"checkbox\" name=\"aldi\" className=\"browseCheckboxes\" style={{gridRow: \"2\"}}></input>\r\n                        <label htmlFor=\"tesco\" className=\"browseShopLabels\" style={{gridRow: \"3\"}}>Tesco</label><input type=\"checkbox\" name=\"tesco\" className=\"browseCheckboxes\" style={{gridRow: \"3\"}}></input>\r\n                        <label htmlFor=\"sains\" className=\"browseShopLabels\" style={{gridRow: \"4\"}}>Sainsburys</label><input type=\"checkbox\" name=\"sains\" className=\"browseCheckboxes\" style={{gridRow: \"4\"}}></input>\r\n                        <label htmlFor=\"coop\" className=\"browseShopLabels\" style={{gridRow: \"5\"}}>CoOp</label><input type=\"checkbox\" name=\"coop\" className=\"browseCheckboxes\" style={{gridRow: \"5\"}}></input>\r\n                    </div>\r\n                    <hr/>\r\n                    <p>Product Ordering</p>\r\n                    <Select defaultValue={options[0]} label=\"Single select\" options={options} style={styles} onChange={this.props.handleSelect} theme={theme => ({...theme, borderRadius: \"10px\", colors: {...theme.colors, primary: \"var(--accent-1)\", primary25: \"var(--background-1)\", primary50: \"var(--text-1)\", primary75: \"var(--text-1)\", neutral0: \"var(--background-2)\", neutral80: \"var(--text-1)\"}})}/>\r\n                    <hr/>\r\n                    <input type=\"submit\" value=\"Update Browse\" className=\"button\"></input>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default BrowseRefinePC;","import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\n\r\nclass BrowseRefineMobile extends Component {\r\n    state = { \r\n        open: false\r\n        \r\n    }\r\n\r\n    toggleMenu(){\r\n        if(this.state.open){\r\n            this.setState({open: false})\r\n        }\r\n        else{\r\n            this.setState({open: true})\r\n        }\r\n    }\r\n\r\n    getVisable(){\r\n\r\n    }\r\n    render() {\r\n        const options = [\r\n            {value: '1', label: 'Product Names A-Z'},\r\n            {value: '2', label: 'Product Names Z-A'},\r\n            {value: '3', label: 'Product Price LOW-HIGH'},\r\n            {value: '4', label: 'Product Price HIGH-LOW'},\r\n        ];\r\n        const styles = {\r\n            select: base => ({\r\n                ...base,\r\n                border: `0px`\r\n            }),\r\n            option: (provided, state) => {\r\n                const background = \"var(--background-1)\"; \r\n                return {...provided, background};\r\n            }\r\n        };\r\n        return ( \r\n            <div className={this.props.loading ? 'hidden': ''}>\r\n                <button style={{margin: \"10pt\"}} className=\"button\" onClick={this.toggleMenu.bind(this)}>Refine Browse</button>\r\n                <form className={this.state.open ? 'form-visable-mob': 'hidden'} onSubmit={this.props.submitRefiner} style={{width: \"95%\", margin: \"auto\", border: \"1px solid black\", marginBottom: \"10pt\", backgroundColor: \"var(--background-2)\"}}>\r\n                    <p style={{padding: \"5pt\"}}>{this.props.products} products found</p>\r\n                    <hr/>\r\n                    <input type=\"text\" name=\"term\" className=\"form-control form-control-search-2\" style={{width: \"80%\", margin: \"auto\"}}></input>\r\n                    <div className=\"shops\"  style={{display: \"grid\", width: \"70%\", margin: \"auto\"}}>\r\n                        <label htmlFor=\"asda\" className=\"browseShopLabels\" style={{gridRow: \"1\"}}>Asda</label><input type=\"checkbox\" name=\"asda\" className=\"browseCheckboxes\" style={{gridRow: \"1\"}}></input>\r\n                        <label htmlFor=\"aldi\" className=\"browseShopLabels\" style={{gridRow: \"2\"}}>Aldi</label><input type=\"checkbox\" name=\"aldi\" className=\"browseCheckboxes\" style={{gridRow: \"2\"}}></input>\r\n                        <label htmlFor=\"tesco\" className=\"browseShopLabels\" style={{gridRow: \"3\"}}>Tesco</label><input type=\"checkbox\" name=\"tesco\" className=\"browseCheckboxes\" style={{gridRow: \"3\"}}></input>\r\n                        <label htmlFor=\"sains\" className=\"browseShopLabels\" style={{gridRow: \"4\"}}>Sainsburys</label><input type=\"checkbox\" name=\"sains\" className=\"browseCheckboxes\" style={{gridRow: \"4\"}}></input>\r\n                        <label htmlFor=\"coop\" className=\"browseShopLabels\" style={{gridRow: \"5\"}}>CoOp</label><input type=\"checkbox\" name=\"coop\" className=\"browseCheckboxes\" style={{gridRow: \"5\"}}></input>\r\n                    </div>\r\n                    <Select defaultValue={options[0]} label=\"Single select\" options={options} style={styles} onChange={this.props.handleSelect} theme={theme => ({...theme, borderRadius: \"10px\", colors: {...theme.colors, primary: \"var(--accent-1)\", primary25: \"var(--background-1)\", primary50: \"var(--text-1)\", primary75: \"var(--text-1)\", neutral0: \"var(--background-2)\", neutral80: \"var(--text-1)\"}})}/>\r\n                    <input type=\"submit\"  className=\"button\" value=\"Update Browse\" style={{width: \"80%\", margin: \"auto\", marginBottom: \"10pt\", backgroundColor: \"var(--background-1)\"}}></input>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default BrowseRefineMobile;","import React, { Component } from 'react';\r\nimport Product from \"./Product\";\r\nimport $ from 'jquery';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport CircleLoader from \"react-spinners/CircleLoader\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport BrowseRefinePC from \"./BrowseRefinePC\";\r\nimport BrowseRefineMobile from \"./BrowseRefineMobile\";\r\nimport { FaExclamationCircle } from 'react-icons/fa';\r\n\r\nclass Browse extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loading: true,\r\n            reloading: false,\r\n            showError: false,\r\n            products: [],\r\n            refine: {\r\n                term: \"\",\r\n                shops: {\r\n                    asda : \"1\",\r\n                    coop: \"1\",\r\n                    tesco: \"1\",\r\n                    aldi: \"1\",\r\n                    sains: \"1\"\r\n                },\r\n                orderby: \"1\"\r\n            },\r\n            currentPage: 1,\r\n            productsPerPage: 100,\r\n            upperPageBound: 7,\r\n            lowerPageBound: 0,\r\n            isPrevBtnActive: 'disabled',\r\n            isNextBtnActive: '',\r\n            pageBound: 7\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.btnDecrementClick = this.btnDecrementClick.bind(this);\r\n        this.btnIncrementClick = this.btnIncrementClick.bind(this);\r\n        this.btnNextClick = this.btnNextClick.bind(this);\r\n        this.btnPrevClick = this.btnPrevClick.bind(this);\r\n        this.setPrevAndNextBtnClass = this.setPrevAndNextBtnClass.bind(this);\r\n        this.submitRefiner = this.submitRefiner.bind(this);\r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    }\r\n\r\n\r\n    callAPI(){\r\n        this.setState({reloading: true});\r\n        fetch(\"https://eshopapi.ddns.net/api/browse\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.refine)})\r\n            .then(res=> res.json())\r\n            .then(res => this.setState({ loading:false,reloading:false, products: res }));\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        $(\"ul li.active\").removeClass('active');\r\n        $('ul li#'+this.state.currentPage).addClass('active');\r\n    }\r\n\r\n    handleClick(event) {\r\n        let listid = Number(event.target.id);\r\n        this.setState({\r\n        currentPage: listid\r\n        });\r\n        $(\"ul li.active\").removeClass('active');\r\n        $('ul li#'+listid).addClass('active');\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n\r\n    setPrevAndNextBtnClass(listid) {\r\n        let totalPage = Math.ceil(this.state.products.length / this.state.productsPerPage);\r\n        this.setState({isNextBtnActive: 'disabled'});\r\n        this.setState({isPrevBtnActive: 'disabled'});\r\n        if(totalPage === listid && totalPage > 1){\r\n            this.setState({isPrevBtnActive: ''});\r\n        }\r\n        else if(listid === 1 && totalPage > 1){\r\n            this.setState({isNextBtnActive: ''});\r\n        }\r\n        else if(totalPage > 1){\r\n            this.setState({isNextBtnActive: ''});\r\n            this.setState({isPrevBtnActive: ''});\r\n        }\r\n    }\r\n    \r\n    btnIncrementClick() {\r\n        this.setState({upperPageBound: this.state.upperPageBound + this.state.pageBound});\r\n        this.setState({lowerPageBound: this.state.lowerPageBound + this.state.pageBound});\r\n        let listid = this.state.upperPageBound + 1;\r\n        this.setState({ currentPage: listid});\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n\r\n    btnDecrementClick() {\r\n        this.setState({upperPageBound: this.state.upperPageBound - this.state.pageBound});\r\n        this.setState({lowerPageBound: this.state.lowerPageBound - this.state.pageBound});\r\n        let listid = this.state.upperPageBound - this.state.pageBound;\r\n        this.setState({ currentPage: listid});\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n\r\n    btnPrevClick() {\r\n        if((this.state.currentPage -1)%this.state.pageBound === 0 ){\r\n            this.setState({upperPageBound: this.state.upperPageBound - this.state.pageBound});\r\n            this.setState({lowerPageBound: this.state.lowerPageBound - this.state.pageBound});\r\n        }\r\n        let listid = this.state.currentPage - 1;\r\n        this.setState({ currentPage : listid});\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n    \r\n    btnNextClick() {\r\n        if((this.state.currentPage +1) > this.state.upperPageBound ){\r\n            this.setState({upperPageBound: this.state.upperPageBound + this.state.pageBound});\r\n            this.setState({lowerPageBound: this.state.lowerPageBound + this.state.pageBound});\r\n        }\r\n        let listid = this.state.currentPage + 1;\r\n        this.setState({ currentPage : listid});\r\n        this.setPrevAndNextBtnClass(listid);\r\n    }\r\n\r\n    handleSelect(selectedOption){\r\n        let x = selectedOption.value;\r\n        this.setState({ \r\n            refine: {\r\n                term: this.state.refine.term,\r\n                shops: {\r\n                    asda : this.state.refine.shops.asda,\r\n                    coop: this.state.refine.shops.coop,\r\n                    tesco: this.state.refine.shops.tesco,\r\n                    aldi: this.state.refine.shops.aldi,\r\n                    sains: this.state.refine.shops.sains\r\n                },\r\n                orderby: x\r\n            } \r\n        });\r\n    }\r\n\r\n    submitRefiner(event){\r\n        let form = event.target;\r\n        let clear = true\r\n        for(let i = 1; i < 6; i++){\r\n            if (form[i].checked){\r\n                clear = false\r\n            }\r\n        }\r\n        this.setState({\r\n            refine: {\r\n                term: form[0].value,\r\n                shops: {\r\n                    asda : form[1].checked ? 1 : 0,\r\n                    coop: form[5].checked ? 1 : 0,\r\n                    tesco: form[3].checked ? 1 : 0,\r\n                    aldi: form[2].checked ? 1 : 0,\r\n                    sains: form[4].checked ? 1 : 0\r\n                },\r\n                orderby: this.state.refine.orderby\r\n            },\r\n            showError: clear\r\n        }, () =>{\r\n            if(!clear){\r\n                this.callAPI();\r\n            }\r\n            else{\r\n                this.setState({reloading: false})\r\n            }\r\n        });\r\n        event.preventDefault();\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.callAPI();\r\n    }\r\n    \r\n    render() {\r\n        const { products, currentPage, productsPerPage,upperPageBound,lowerPageBound,isPrevBtnActive,isNextBtnActive } = this.state;\r\n        // Logic for displaying current products\r\n        const indexOfLastTodo = currentPage * productsPerPage;\r\n        const indexOfFirstTodo = indexOfLastTodo - productsPerPage;\r\n        const currentproducts = products.slice(indexOfFirstTodo, indexOfLastTodo);\r\n\r\n        \r\n\r\n        const renderproducts = currentproducts.map((product) => {\r\n            return <Product key={product.url} product={product}/>;\r\n        });\r\n\r\n        // Logic for displaying page numbers\r\n        const pageNumbers = [];\r\n        for (let i = 1; i <= Math.ceil(products.length / productsPerPage); i++) {\r\n            pageNumbers.push(i);\r\n        }\r\n\r\n        const renderPageNumbers = pageNumbers.map(number => {\r\n            if(number === 1 && currentPage === 1){\r\n                return(\r\n                    <li key={number} className='page-item active' id={number}><a href='#' className=\"page-link\" onClick={this.handleClick}>{number}</a></li>\r\n                )\r\n            }\r\n            else if((number < upperPageBound + 1) && number > lowerPageBound){\r\n                return(\r\n                    <li key={number} className=\"page-item\"id={number}><a href='#' className=\"page-link\" id={number} onClick={this.handleClick}>{number}</a></li>\r\n                )\r\n            }\r\n        });\r\n\r\n        let pageIncrementBtn = null;\r\n        if(pageNumbers.length > upperPageBound){\r\n            pageIncrementBtn = <li className='page-item'><a href='#' className=\"page-link\" onClick={this.btnIncrementClick}> &hellip; </a></li>\r\n        }\r\n\r\n        let pageDecrementBtn = null;\r\n        if(lowerPageBound >= 1){\r\n            pageDecrementBtn = <li className='page-item'><a href='#' className=\"page-link\" onClick={this.btnDecrementClick}> &hellip; </a></li>\r\n        }\r\n\r\n        let renderPrevBtn = null;\r\n        if(isPrevBtnActive === 'disabled') {\r\n            renderPrevBtn = <li className={isPrevBtnActive}><span id=\"btnPrev\" className=\"page-link disabled\" style={{color: \"grey\"}}> Prev </span></li>\r\n        }\r\n        else{\r\n            renderPrevBtn = <li className={isPrevBtnActive}><a href='#' id=\"btnPrev\" className=\"page-link\" onClick={this.btnPrevClick}> Prev </a></li>\r\n        }\r\n\r\n        let renderNextBtn = null;\r\n        if(isNextBtnActive === 'disabled') {\r\n            renderNextBtn = <li className={isNextBtnActive}><span id=\"btnNext\" className=\"page-link disabled\" style={{color: \"grey\"}}> Next </span></li>\r\n        }\r\n        else{\r\n            renderNextBtn = <li className={isNextBtnActive}><a href='#' id=\"btnNext\" className=\"page-link\" onClick={this.btnNextClick}> Next </a></li>\r\n        }\r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.loading}/>\r\n                <p className={this.state.loading ? '': 'hidden'} style={{textAlign: 'center'}}><br/>Loading</p>\r\n                <div className=\"browseProds\">\r\n                    <MediaQuery minWidth={1224}>\r\n                        <BrowseRefinePC loading={this.state.loading} products={this.state.products.length} handleSelect={this.handleSelect} submitRefiner={this.submitRefiner}/>\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth={1224}>\r\n                        <BrowseRefineMobile  loading={this.state.loading} products={this.state.products.length} handleSelect={this.handleSelect} submitRefiner={this.submitRefiner}/>\r\n                    </MediaQuery>\r\n                    <ul className={this.state.loading ? 'hidden': 'xyz'}>\r\n                        <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.reloading}/>\r\n                        <div className={this.state.reloading ? 'hidden': ''}>{renderproducts}</div>\r\n                    </ul>\r\n                </div>\r\n                <ul className={this.state.loading || this.state.reloading ? 'hidden': 'pagination'}>\r\n                    {renderPrevBtn}\r\n                    {pageDecrementBtn}\r\n                    {renderPageNumbers}\r\n                    {pageIncrementBtn}\r\n                    {renderNextBtn}\r\n                </ul>\r\n                <div className={this.state.showError ? 'confirmation alert alert-danger': 'hidden'}><FaExclamationCircle/>No Shops Selected!</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Browse;","import React, { Component } from 'react';\r\nimport CircleLoader from \"react-spinners/CircleLoader\";\r\nimport Product from \"./Product\";\r\n\r\nclass SearchResult extends Component {\r\n    state = { \r\n        search: {\r\n            term: \"\"\r\n        },\r\n        results: [],\r\n        loading: true,\r\n        reloading: false\r\n    }\r\n\r\n    callAPI(){\r\n        this.setState({reloading: true});\r\n        fetch(\"https://eshopapi.ddns.net/api/search\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.search)})\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                if (res.length !== 0){\r\n                    this.setState({ loading:false,reloading:false, results: res})\r\n                }\r\n                else{\r\n                    this.setState({loading:false,reloading:false,results: [{url: \"\", product_name: \"No Products Found for that name\", product_price: \"\", product_additionals: \"Search again for more results\"}]})\r\n                }\r\n            })\r\n            .catch(err => {\r\n                this.setState({loading:false,reloading:false,results: [{url: \"\", product_name: \"No Products Found for that name\", product_price: \"\", product_additionals: \"Search again for more results\"}]})\r\n            });\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        this.setState({search: {term: this.props.match.params.term}}, () => {\r\n            this.callAPI();\r\n        });\r\n    }\r\n    render() {\r\n        const { results } = this.state;\r\n\r\n        const renderproducts = results.map((result, index) => {\r\n            return <Product key={result.url} product={result} index={index+1}/>;\r\n        });\r\n        \r\n        return ( \r\n            <div style={{width:\"100%\"}}>\r\n                <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.loading}/>\r\n                <p className={this.state.loading ? '': 'hidden'} style={{textAlign: 'center'}}><br/>Loading</p>\r\n                <br className={this.state.loading ? 'hidden': 'xyx'}/><h1 className={this.state.loading ? 'hidden': ''} style={{textAlign: \"center\"}}>Search Results</h1><hr className={this.state.loading ? 'hidden': ''}/>\r\n                <div className=\"browseProds\">\r\n                    <ul className={this.state.loading ? 'hidden': 'xyx'}>\r\n                        <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"#123abc\"} loading={this.state.reloading}/>\r\n                        \r\n                        {/*<div className={this.state.reloading ? 'hidden': ''}>{renderTop}</div>\r\n                        {/* whenClicked is a property not an event, per se. <br className={this.state.loading ? 'hidden': 'xyx'}/>\r\n                        <br className={this.state.loading ? 'hidden': 'xyx'}/>\r\n                        <h1 className={this.state.loading ? 'hidden': ''} style={{textAlign: \"center\"}}>Other Results</h1><hr className={this.state.loading ? 'hidden': ''}/>*/}\r\n                        <div className={this.state.reloading ? 'hidden': ''}>{renderproducts}</div>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default SearchResult;","import React, { Component } from 'react';\r\n\r\nclass NotFound extends Component {\r\n    state = {  }\r\n    render() { \r\n        return ( <h1><strong>404</strong> not found</h1> );\r\n    }\r\n}\r\n \r\nexport default NotFound;","import React, { Component } from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nclass Settings extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tredirect: null,\r\n\t\t\tuserReady: false,\r\n\t\t\tcurrentUser: { username: \"\" },\r\n            userInfo: { display_name: \"\" , email:\"\" }\r\n\t\t};\r\n\t}\r\n\r\n    setTheme(e){\r\n        if (e.target.checked === true) {\r\n            document.documentElement.setAttribute('data-theme', 'dark');\r\n            localStorage.setItem('theme', 'dark'); \r\n\t\t\tdocument.getElementsByClassName(\"navbar-brand\")[0].children[0].src = \"https://bestbasket.ddns.net/eshoplogodark.png\"\r\n        }\r\n        else{\r\n            document.documentElement.setAttribute('data-theme', 'light');\r\n            localStorage.setItem('theme', 'light'); \r\n\t\t\tdocument.getElementsByClassName(\"navbar-brand\")[0].children[0].src = \"https://bestbasket.ddns.net/eshoplogolight.png\"\r\n        } \r\n    }\r\n\r\n    getDetails(currentUser){\r\n        fetch(\"https://eshopapi.ddns.net/api/user\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(currentUser)})\r\n            .then(out => out.json())\r\n            .then(out => this.setState({userInfo: out[0]}));\r\n    }\r\n\r\n\r\n    formatTime(){\r\n        let time = this.state.userInfo.createdAt;\r\n        const options = {year: 'numeric', month: 'long', day: 'numeric' };\r\n        let date = new Date(time);\r\n        return date.toLocaleTimeString(undefined, options);\r\n    }\r\n\r\n    componentDidMount(){\r\n\t\tconst currentUser = AuthService.getCurrentUser();\r\n        this.getDetails(currentUser);\r\n        const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;\r\n\r\n        if (currentTheme === 'dark') {\r\n            document.getElementById(\"checkbox\").checked = true;\r\n        }\r\n        \r\n\t\tif (!currentUser) this.setState({ redirect: \"/home\" });\r\n\t\t\r\n    }\r\n\r\n    render() { \r\n        if (this.state.redirect) {\r\n\t\t\treturn <Redirect to={this.state.redirect} />\r\n\t\t}\r\n        return ( \r\n            <div>\r\n                <h1>Account Settings</h1>\r\n                <hr/>\r\n                <div style={{textAlign: \"center\"}}>\r\n                    User Name: {this.state.userInfo.display_name}<br/>\r\n                    Email: {this.state.userInfo.email}<br/>\r\n                    Date Created: {this.formatTime()} \r\n                </div>\r\n                <div style={{width: \"max-content\", display: \"flex\", justifyContent:\"center\", margin: \"auto\"}}>\r\n                    <em style={{margin: \"auto\", marginRight: \"10px\"}}>Theme (light/dark):</em>\r\n                    <div className=\"theme-switch-wrapper\" style={{width: \"max-content\"}}>\r\n                        <label className=\"theme-switch\" htmlFor=\"checkbox\">\r\n                            <input type=\"checkbox\" id=\"checkbox\" onChange={this.setTheme}/>\r\n                            <div className=\"slider round\"></div>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Settings;","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\n\r\nclass NavPC extends Component {\r\n    state = {  }\r\n\r\n    componentDidMount(){\r\n        let x = localStorage.getItem(\"theme\");\r\n\t\tif(x === \"dark\"){\r\n\t\t\tdocument.getElementsByClassName(\"navbar-brand\")[0].children[0].src = \"https://bestbasket.ddns.net/eshoplogodark.png\"\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdocument.getElementsByClassName(\"navbar-brand\")[0].children[0].src = \"https://bestbasket.ddns.net/eshoplogolight.png\"\r\n\t\t}\r\n    }\r\n\r\n    getIcon(){\r\n        let x = localStorage.getItem(\"theme\");\r\n\t\tif(x === \"dark\"){\r\n\t\t\treturn \"https://bestbasket.ddns.net/eshoplogodark.png\"\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn \"https://bestbasket.ddns.net/eshoplogolight.png\"\r\n\t\t}\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <div className=\"container-fluid\">\r\n                <Link to={\"/\"} className=\"navbar-brand\" onClick={this.props.search}><img alt=\"Eshop Logo\" src={this.getIcon()} style={{height: \"40px\"}}></img></Link>\r\n                \r\n                    <div className=\"navbar-nav mr-auto\">\r\n                        <li className=\"nav-item\">\r\n                            <Link to={\"/browse\"} className=\"nav-link\" onClick={this.props.notSearch}>Browse</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to={\"/basket\"} className=\"nav-link\" onClick={this.props.notSearch}>Basket Configurator</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to={\"/about\"} className=\"nav-link\" onClick={this.props.notSearch}>About</Link>\r\n                        </li>\r\n                    </div>\r\n                    {this.props.currentUser ? (\r\n                        <div className=\"navbar-nav ml-auto\">\r\n                            <li className=\"nav-item\" style={{display: \"flex\",justifyContent: \"center\",flexDirection: \"column\"}}>\r\n                                <Link to={\"/profile\"} onClick={this.props.notSearch} style={{display: \"flex\", color: \"var(--text-1)\"}}><FaUserCircle className=\"profile\" style={{height: \"1.1em\", width: \"1.1em\"}}/></Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/login\" className=\"nav-link\" onClick={this.props.logOut}>Logout</a>\r\n                            </li>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"navbar-nav ml-auto\">\r\n                            <li className=\"nav-item\">\r\n                                <Link to={\"/login\"} className=\"nav-link\" onClick={this.props.notSearch}>Login</Link>\r\n                            </li>\r\n\r\n                            <li className=\"nav-item\">\r\n                                <Link to={\"/register\"} className=\"nav-link\" onClick={this.props.notSearch}>Sign Up</Link>\r\n                            </li>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default NavPC;","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\n\r\nclass NavMobile extends Component {\r\n    state = { }\r\n    \r\n    render() { \r\n        return (\r\n            <div> \r\n                <div className={this.props.open ? \"closed\" : \"open\"} id=\"myNavbar\">\r\n                    <div className=\"navbar-nav mr-auto\">\r\n                        <li className=\"nav-item\">\r\n                            <Link to={\"/home\"} className=\"nav-link\" onClick={this.props.search}>Home</Link>\r\n                        </li>\r\n                    </div>\r\n                    <div className=\"navbar-nav mr-auto\">\r\n                        <li className=\"nav-item\">\r\n                            <Link to={\"/browse\"} className=\"nav-link\" onClick={this.props.notSearch}>Browse</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to={\"/basket\"} className=\"nav-link\" onClick={this.props.notSearch}>Basket Configurator</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link to={\"/about\"} className=\"nav-link\" onClick={this.props.notSearch}>About</Link>\r\n                        </li>\r\n                    </div>\r\n                    {this.props.currentUser ? (\r\n                        <div className=\"navbar-nav bottom\">\r\n                            <li className=\"nav-item\" style={{display: \"flex\",justifyContent: \"center\",flexDirection: \"column\"}}>\r\n                                <Link to={\"/profile\"} onClick={this.props.notSearch} style={{display: \"flex\", color: \"var(--text-1)\", justifyContent: \"center\"}}><FaUserCircle className=\"profile\" style={{height: \"1.6em\", width: \"1.6em\"}}/></Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a href=\"/login\" className=\"nav-link\" onClick={this.props.logOut}>Logout</a>\r\n                            </li>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"navbar-nav bottom\">\r\n                            <li className=\"nav-item\">\r\n                                <Link to={\"/login\"} className=\"nav-link\" onClick={this.props.notSearch}>Login</Link>\r\n                            </li>\r\n\r\n                            <li className=\"nav-item\">\r\n                                <Link to={\"/register\"} className=\"nav-link\" onClick={this.props.notSearch}>Sign Up</Link>\r\n                            </li>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default NavMobile;","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaTimes, FaBars } from \"react-icons/fa\";\r\n\r\nclass NavMobile extends Component {\r\n    state = { }\r\n\r\n    componentDidMount(){\r\n        let x = localStorage.getItem(\"theme\");\r\n\t\tif(x === \"dark\"){\r\n\t\t\tdocument.getElementsByClassName(\"navbar-brand\")[0].children[0].src = \"https://bestbasket.ddns.net/eshoplogodark.png\"\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdocument.getElementsByClassName(\"navbar-brand\")[0].children[0].src = \"https://bestbasket.ddns.net/eshoplogolight.png\"\r\n\t\t}\r\n    }\r\n\r\n    getIcon(){\r\n        let x = localStorage.getItem(\"theme\");\r\n\t\tif(x === \"dark\"){\r\n\t\t\treturn \"https://bestbasket.ddns.net/eshoplogodark.png\"\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn \"https://bestbasket.ddns.net/eshoplogolight.png\"\r\n\t\t}\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Link to={\"/\"} className=\"navbar-brand\" onClick={this.props.search}><img alt=\"Eshop Logo\" src={this.getIcon()} style={{height: \"40px\"}}></img></Link>\r\n                <div className=\"navbar-nav ml-auto\">\r\n                    <button style={{margin: \"10pt\"}} className=\"button\" onClick={this.props.toggleMenu}>{this.props.open ? (<FaBars/>) : (<FaTimes/>)}</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default NavMobile;","import React, { Component } from 'react';\r\n\r\nclass About extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = { \r\n            lastupdate: []\r\n        }\r\n    }\r\n    callAPI(){\r\n        fetch(\"https://eshopapi.ddns.net/api/shops\")\r\n            .then(res => res.json())\r\n            .then(res => res.map((item)=> [item.shop, item.date.toString()]))\r\n            .then(res => this.setState({ lastupdate: res }));\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.callAPI();\r\n    }\r\n    render() { \r\n        const {lastupdate} = this.state;\r\n        const shopUpdates = lastupdate.map((shop) => {\r\n            let date = new Date(shop[1]);\r\n            let shop1 = shop[0];\r\n            return <li key={shop[0]}><b>{shop1}</b>: {date.toLocaleDateString()} @ {date.toLocaleTimeString()} </li>;\r\n        });\r\n        return ( \r\n            <div>\r\n                <h1 style={{marginTop: \"10pt\"}}>About this system.</h1>\r\n                <hr/>\r\n                <p style={{textAlign: \"center\"}}>A system for comparing supermarkets in the UK, with individual product searching or entire basket searching to find the best deals.</p>\r\n\r\n                <h3 style={{textAlign: \"center\"}}>What we currently offer</h3>\r\n                <ul style={{textAlign: \"center\", listStyle: \"none\"}}>\r\n                    <li className=\"shopList\"><a href=\"https://www.asda.com/\"><img src=\"https://upload.wikimedia.org/wikipedia/en/thumb/9/91/Asda_logo.svg/300px-Asda_logo.svg.png\" alt=\"Asda\" className=\"ShopIcon\" style={{color: \"var(--text-1)\", marginRight:\"15pt\", height: \"25px\"}}/></a></li>\r\n                    <li className=\"shopList\"><a href=\"https://aldi.co.uk/\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/AldiWorldwideLogo.svg/500px-AldiWorldwideLogo.svg.png\" alt=\"Aldi\" className=\"ShopIcon\" style={{color: \"var(--text-1)\", marginRight:\"15pt\", height: \"55px\"}}/></a></li>\r\n                    <li className=\"shopList\"><a href=\"https://tesco.co.uk/\"><img src=\"https://upload.wikimedia.org/wikipedia/en/thumb/b/b0/Tesco_Logo.svg/200px-Tesco_Logo.svg.png\" alt=\"Tesco\" className=\"ShopIcon\" style={{color: \"var(--text-1)\", marginRight:\"15pt\", height: \"25px\"}}/></a></li>\r\n                    <li className=\"shopList\"><a href=\"https://sainsburys.co.uk/\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/d/d7/Sainsbury%27s_Logo.svg\" alt=\"Sainsburys\" className=\"ShopIcon\" style={{color: \"var(--text-1)\", marginRight:\"15pt\", height: \"25px\"}}/></a></li>\r\n                    <li className=\"shopList\"><a href=\"https://coop.co.uk/\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/The_Co-Operative_clover_leaf_logo.svg/500px-The_Co-Operative_clover_leaf_logo.svg.png\" alt=\"CO-OP\" className=\"ShopIcon\" style={{color: \"var(--text-1)\", marginRight:\"15pt\", height: \"35px\"}}/></a></li>\r\n                </ul>\r\n                <p style={{width: \"90%\", margin: \"auto\"}}>We update our prices regularly to keep our information as accurate as possible.<br/>Below are the most recent updates for each shop:</p>\r\n                <ul style={{textAlign: 'center', listStyle: \"none\"}}>{shopUpdates}</ul>\r\n                <div style={{width: \"95%\", margin: \"auto\"}}> \r\n                    <h2>Delivery Information</h2>\r\n                    <p>All providers have their delivery information on their own systems, we try to keep ours as accurate but it may not always be perfect, currently we have the following for shop delivery information that we use when finding the Best Basket</p>\r\n                    <ul style={{width: \"max-content\", margin: \"auto\"}}>\r\n                        <li>Asda</li>\r\n                        <ul>\r\n                            <li>£3 on baskets under £40</li>\r\n                        </ul>\r\n                        <li>Co-op</li>\r\n                        <ul>\r\n                            <li>Minimum Spend £15</li>\r\n                            <li>Free Standard Delivery</li>\r\n                        </ul>\r\n                        <li>Tesco</li>\r\n                        <ul>\r\n                            <li>£5.50 Flat Standard Delivery</li>\r\n                        </ul>\r\n                        <li>Aldi</li>\r\n                        <ul>\r\n                            <li>Free over £30</li>\r\n                            <li>£2.95 on baskets under £30</li>\r\n                        </ul>\r\n                        <li>Sainsburys</li>\r\n                        <ul>\r\n                            <li>Minimum Spend £25</li>\r\n                            <li>£7 for baskets under £40</li>\r\n                        </ul>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\n\r\nexport default About;\r\n","import React, { Component } from 'react';\r\nimport CornerRibbon from \"react-corner-ribbon\";\r\nimport { FaTimesCircle } from \"react-icons/fa\";\r\n\r\nclass ProductEmpty extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = { \r\n            shops: {\r\n                \"asda\": \"https://upload.wikimedia.org/wikipedia/en/thumb/9/91/Asda_logo.svg/300px-Asda_logo.svg.png\",\r\n                \"tesco\": \"https://upload.wikimedia.org/wikipedia/en/thumb/b/b0/Tesco_Logo.svg/200px-Tesco_Logo.svg.png\",\r\n                \"aldi\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/AldiWorldwideLogo.svg/500px-AldiWorldwideLogo.svg.png\",\r\n                \"sains\": \"https://upload.wikimedia.org/wikipedia/commons/d/d7/Sainsbury%27s_Logo.svg\",\r\n                \"coop\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/The_Co-Operative_clover_leaf_logo.svg/500px-The_Co-Operative_clover_leaf_logo.svg.png\",\r\n                \"\" : \"https://bestbasket.ddns.net/EshopLogo1.png\"\r\n            },\r\n             visable: false,\r\n             warn: false\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.showDelete = this.showDelete.bind(this);\r\n        this.hideDelete = this.hideDelete.bind(this);\r\n        this.removeSelf = this.removeSelf.bind(this);\r\n    }\r\n\r\n    getShop() {\r\n        var shop = this.props.product.item.shop;\r\n        return this.state.shops[shop]\r\n    }\r\n\r\n    shopIconStyle(){\r\n        var shop = this.props.product.item.shop;\r\n        if(shop === \"\"){\r\n            return {height: \"45px\"}\r\n        }\r\n        else{\r\n            return {height: \"15px\"}\r\n        }\r\n    }\r\n\r\n    handleChange(event){\r\n        if(event.target.value.length === 1){\r\n            this.setState({warn: true})\r\n        }\r\n        else{\r\n            this.setState({warn: false})\r\n            this.props.product.term = event.target.value\r\n            event.target.value = this.props.product.term \r\n        }\r\n    }\r\n\r\n    findRibbon(){\r\n        var index = this.props.index;\r\n        switch (index) {\r\n            case 1:\r\n                return <CornerRibbon position=\"top-left\" fontColor=\"white\" backgroundColor=\"#D6AF36\" style={{fontSize: \"10px\"}}>Best Value</CornerRibbon>;\r\n            case 2:\r\n                return <CornerRibbon position=\"top-left\" fontColor=\"white\" backgroundColor=\"#b4b4b4\" style={{fontSize: \"10px\"}}>2nd</CornerRibbon>\r\n            case 3:\r\n                return <CornerRibbon position=\"top-left\" fontColor=\"white\" backgroundColor=\"#6a3805\" style={{fontSize: \"10px\"}}>3rd</CornerRibbon>\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    showDelete(){\r\n        \r\n        this.setState({visable: true})\r\n    }\r\n    hideDelete(){\r\n        \r\n        this.setState({visable: false})\r\n    }\r\n    removeSelf(){\r\n        let x = this.props.prodKey;\r\n        this.props.removeSelf(x);\r\n    }\r\n    componentDidMount(){\r\n        try{\r\n            document.getElementById(this.props.prodKey).value = this.props.product.term;\r\n        }\r\n        catch(e){\r\n\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot){\r\n        if(this.props.product.term !== prevProps.product.term){\r\n            try{\r\n                document.getElementById(this.props.prodKey).value = this.props.product.term;\r\n            }\r\n            catch(e){\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"product2\" style={{ display: 'flex', position: 'relative', width: '80%', margin: 'auto', border: '1px outset black', borderCollapse: 'collapse' }} onMouseEnter={this.showDelete} onMouseLeave={this.hideDelete}>\r\n                {this.findRibbon()}\r\n                {(this.state.visable) ? <div style={{zIndex: 9999, position: \"absolute\", color: \"var(--accent-1)\", cursor: \"pointer\"}} onClick={this.removeSelf}><FaTimesCircle style={{height: \"1.1em\", width: \"1.1em\"}}/></div> : null}\r\n                <div className=\"typeSec\">\r\n                    <img src={this.getShop()} alt=\"Logo\" className=\"ShopIcon\" style={this.shopIconStyle()}/>\r\n                </div>\r\n                <div style={{ borderLeft: '1px solid #dbdbdb', marginRight: '20px' }}></div>\r\n                <div className=\"InfoSec\">\r\n                    {(this.props.product.found) ?\r\n\t\t\t        <div style={{display: \"flex\"}}>\r\n                        <div style={{width: \"80%\"}}>\r\n                            <p>{this.props.product.item.product_name}</p>\r\n                            <p style={{fontSize: \"0.8em\"}}>Price: {this.props.product.item.product_price}</p>\r\n                        </div>\r\n                        <div style={{margin:\"auto 0 auto auto\", height: \"max-content\"}}>\r\n                            <a href={this.props.product.item.url} target=\"_blank\" rel=\"noreferrer\" className=\"nav-link\"><div className=\"btn btn-secondary\">Click to View!</div></a>\r\n                        </div>\r\n                    </div>\r\n                    :  \r\n                    <div>\r\n                        <p>Input Product</p>{(this.props.product.item.product_name !== \"\") ? <p style={{color: \"red\"}}>Product Not Found, try a new term</p> : null}\r\n                        {(this.state.warn) ? <p style={{color: \"red\"}}>Product Names must be 2 or more letters in length!</p> : null}\r\n                        <input id={this.props.prodKey} onChange={this.handleChange}/>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default ProductEmpty;","import React, { Component } from 'react';\r\n\r\nclass ProductAdd extends Component {\r\n    state = {\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={this.props.handleClick} className=\"product2\" style={{ display: 'flex', position: 'relative', width: '80%', margin: 'auto', border: '1px outset black', borderCollapse: 'collapse', cursor: \"pointer\" }}>\r\n                <p style={{textAlign: \"center\", width: \"100%\", marginTop: \"1rem\"}}>Add New</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default ProductAdd;","import React, { Component } from 'react';\r\nimport AuthService from \"../services/auth.service\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaExclamationCircle, FaInfoCircle } from \"react-icons/fa\";\r\n\r\nclass BasketRefinePC extends Component {\r\n    state = { \r\n        currentUser: undefined\r\n     }\r\n\r\n    componentDidMount(){\r\n    \tconst user = AuthService.getCurrentUser();\r\n        if (user) {\r\n            this.setState({\r\n              currentUser: user\r\n            });\r\n      }\r\n    }\r\n    render() { \r\n        const {currentUser} = this.state;\r\n        return ( \r\n            <div style={{width: \"15%\", display: \"flex\", float: \"left\", flexGrow: \"2\", flexDirection: \"column\"}}>\r\n                <form className={this.props.loading ? 'hidden': 'form-visable'} id=\"x1\" onSubmit={this.props.submitRefiner}>\r\n                    <p style={{marginTop: \"10pt\"}}>{this.props.products} item{(this.props.products === \"1\") ? null : \"s\"}</p>\r\n                    <hr/>\r\n                    {(currentUser) ?\r\n                     <button onClick={this.props.handleShow} type=\"button\" className=\"button\">Save Basket</button> : \r\n                            <button type=\"button\" disabled className=\"button\">Save Basket<span className=\"tooltiptext\">Log in to save a basket</span></button>\r\n                    }\r\n                    <hr/>\r\n                    <h4 style={{textAlign: \"center\"}}>Basket Options</h4>\r\n                    <hr/>\r\n                    <p style={{marginBottom: \"0\", textDecoration: \"underline\"}}>Shop Availablity</p>\r\n                    <div className=\"shops\" style={{display: \"grid\"}}>\r\n                        <label htmlFor=\"asda\" className=\"browseShopLabels\" style={{gridRow: \"1\"}}>Asda</label><input type=\"checkbox\" name=\"asda\" className=\"browseCheckboxes\" style={{gridRow: \"1\"}}></input>\r\n                        <label htmlFor=\"aldi\" className=\"browseShopLabels\" style={{gridRow: \"2\"}}>Aldi</label><input type=\"checkbox\" name=\"aldi\" className=\"browseCheckboxes\" style={{gridRow: \"2\"}}></input>\r\n                        <label htmlFor=\"tesco\" className=\"browseShopLabels\" style={{gridRow: \"3\"}}>Tesco</label><input type=\"checkbox\" name=\"tesco\" className=\"browseCheckboxes\" style={{gridRow: \"3\"}}></input>\r\n                        <label htmlFor=\"sains\" className=\"browseShopLabels\" style={{gridRow: \"4\"}}>Sainsburys</label><input type=\"checkbox\" name=\"sains\" className=\"browseCheckboxes\" style={{gridRow: \"4\"}}></input>\r\n                        <label htmlFor=\"coop\" className=\"browseShopLabels\" style={{gridRow: \"5\"}}>CoOp</label><input type=\"checkbox\" name=\"coop\" className=\"browseCheckboxes\" style={{gridRow: \"5\"}}></input>\r\n                    </div>\r\n                    <hr/>\r\n                    <div className=\"shops\" style={{display: \"grid\"}}>\r\n                        <Link to=\"/about\" style={{gridRow: \"1\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}><FaInfoCircle style={{height: \"1em\", width: \"1em\"}}/></Link><label htmlFor=\"deliver\" className=\"browseShopLabels\" style={{gridRow: \"1\"}}>Delivery</label><input type=\"checkbox\" name=\"delivery\" className=\"browseCheckboxes\" style={{gridRow: \"1\"}}></input>\r\n                    </div>\r\n                    {(currentUser) ? \r\n                    <div>\r\n                        <p style={{fontSize: \"9pt\"}}><FaExclamationCircle  style={{height: \"1em\", width: \"1em\"}}/>These preferences can be saved in your profile settings</p>\r\n                    </div> : null}\r\n                    <hr/>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default BasketRefinePC;","import React, { Component } from 'react';\r\nimport AuthService from \"../services/auth.service\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaExclamationCircle, FaInfoCircle } from \"react-icons/fa\";\r\n\r\nclass BasketRefineMobile extends Component {\r\n    state = { \r\n        open: false,\r\n        currentUser: undefined\r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n    \tconst user = AuthService.getCurrentUser();\r\n        if (user) {\r\n            this.setState({\r\n              currentUser: user\r\n            });\r\n      }\r\n    }\r\n\r\n    toggleMenu(){\r\n        if(this.state.open){\r\n            this.setState({open: false})\r\n        }\r\n        else{\r\n            this.setState({open: true})\r\n        }\r\n    }\r\n\r\n    getVisable(){\r\n\r\n    }\r\n    render() {\r\n        const {currentUser} = this.state;\r\n        return ( \r\n            <div className={this.props.loading ? 'hidden': ''} style={{zIndex: \"80\", position: \"relative\",backgroundColor: \"var(--background-1)\"}}>\r\n                <button style={{margin: \"10pt\"}} className=\"button\" onClick={this.toggleMenu.bind(this)}>Refine Browse</button>\r\n                <form className={this.state.open ? 'form-visable-mob': 'hidden'} id=\"x1\" onSubmit={this.props.submitRefiner} style={{width: \"80%\", margin: \"auto\", marginBottom: \"15pt\"}}>\r\n                    <p style={{marginTop: \"10pt\"}}>{this.props.products} item{(this.props.products === \"1\") ? null : \"s\"}</p>\r\n                    <hr/>\r\n                    {(currentUser) ?\r\n                     <button onClick={this.props.handleShow} type=\"button\" className=\"button\">Save Basket</button> : \r\n                            <button type=\"button\" disabled className=\"button\">Save Basket<span className=\"tooltiptext tooltiptext-mob\">Log in to save a basket</span></button>\r\n                    }\r\n                    <hr/>\r\n                    <h4 style={{textAlign: \"center\"}}>Basket Options</h4>\r\n                    <hr/>\r\n                    <p style={{marginBottom: \"0\", textDecoration: \"underline\"}}>Shop Availablity</p>\r\n                    <div className=\"shops\" style={{display: \"grid\"}}>\r\n                        <label htmlFor=\"asda\" className=\"browseShopLabels\" style={{gridRow: \"1\"}}>Asda</label><input type=\"checkbox\" name=\"asda\" className=\"browseCheckboxes\" style={{gridRow: \"1\"}}></input>\r\n                        <label htmlFor=\"aldi\" className=\"browseShopLabels\" style={{gridRow: \"2\"}}>Aldi</label><input type=\"checkbox\" name=\"aldi\" className=\"browseCheckboxes\" style={{gridRow: \"2\"}}></input>\r\n                        <label htmlFor=\"tesco\" className=\"browseShopLabels\" style={{gridRow: \"3\"}}>Tesco</label><input type=\"checkbox\" name=\"tesco\" className=\"browseCheckboxes\" style={{gridRow: \"3\"}}></input>\r\n                        <label htmlFor=\"sains\" className=\"browseShopLabels\" style={{gridRow: \"4\"}}>Sainsburys</label><input type=\"checkbox\" name=\"sains\" className=\"browseCheckboxes\" style={{gridRow: \"4\"}}></input>\r\n                        <label htmlFor=\"coop\" className=\"browseShopLabels\" style={{gridRow: \"5\"}}>CoOp</label><input type=\"checkbox\" name=\"coop\" className=\"browseCheckboxes\" style={{gridRow: \"5\"}}></input>\r\n                    </div>\r\n                    <hr/>\r\n                    <div className=\"shops\" style={{display: \"grid\"}}>\r\n                        <Link to=\"/about\" style={{gridRow: \"1\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\"}}><FaInfoCircle style={{height: \"1em\", width: \"1em\"}}/></Link><label htmlFor=\"deliver\" className=\"browseShopLabels\" style={{gridRow: \"1\"}}>Delivery</label><input type=\"checkbox\" name=\"delivery\" className=\"browseCheckboxes\" style={{gridRow: \"1\"}}></input>\r\n                    </div>\r\n                    {(currentUser) ? \r\n                    <div>\r\n                        <p style={{fontSize: \"9pt\"}}><FaExclamationCircle  style={{height: \"1em\", width: \"1em\"}}/>These preferences can be saved in your profile settings</p>\r\n                    </div> : null}\r\n                    <hr/>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default BasketRefineMobile;","import React, { Component } from 'react';\r\nimport { FaDownload, FaTimes } from 'react-icons/fa';\r\nimport Select from 'react-select';\r\n\r\nclass Modal extends Component {\r\n    state = { \r\n        isSearchable: false,\r\n     }\r\n\r\n    render() { \r\n        const showClass = (this.props.show) ? \"modal showModal\" : \"modal hideModal\";\r\n        let x = this.props.overwrite;\r\n        const found = this.props.userBaskets.find(element => element.value == x);\r\n\r\n        const styles = {\r\n            select: base => ({\r\n                ...base,\r\n                border: `0px`\r\n            }),\r\n            option: (provided, state) => {\r\n                const background = \"var(--background-1)\"; \r\n                return {...provided, background};\r\n            }\r\n        };\r\n        return ( \r\n            <div className={showClass}>\r\n                <section className=\"modal-main\" style={{padding: \"20pt\"}}>\r\n                    <div className=\"modal-top\">\r\n                        <FaDownload style={{margin: \"auto 0\", height: \"1.75rem\", width: \"1.75rem\"}}/>\r\n                        <h3 style={{margin: \"auto 0\", marginLeft: \"5pt\"}}>Save Basket</h3>\r\n                        <div className=\"modal-close\"><button className=\"button\" style={{background: \"none\", border: \"none\"}} type=\"button\"onClick={this.props.handleClose}><FaTimes/></button></div>\r\n                    </div>\r\n                    <div className=\"modal-content\">\r\n                        <form id=\"save\" onSubmit={this.props.saveBasket}>\r\n                            <h4 style={{fontSize: \"1.2rem\"}}>Create New Save</h4><hr style={{backgroundColor: \"var(--text-1)\"}}/>\r\n                            <div className=\"form-check\">\r\n                                <input type=\"radio\" className=\"form-check-input\" defaultChecked id=\"new\" name=\"savetype\" value=\"new\"/>\r\n                                <label className=\"form-check-label\" htmlFor=\"new\" style={{fontSize: \"0.9rem\"}}>Create New Save</label>\r\n                            </div>\r\n                            <input type=\"text\" name=\"savename\" className=\"form-control save-name-input\" placeholder=\"Input Save Name...\" /><br/><br/>\r\n                            <h4 style={{fontSize: \"1.2rem\"}}>Overwrite an Existing Save</h4><hr style={{backgroundColor: \"var(--text-1)\"}}/>\r\n                            <div className=\"form-check\">\r\n                                <input type=\"radio\" className=\"form-check-input\" id=\"overwrite\" name=\"savetype\" value=\"ow\"/>\r\n                                <label className=\"form-check-label\" htmlFor=\"overwrite\" style={{fontSize: \"0.9rem\"}}>Overwrite</label>\r\n                            </div>\r\n                            <Select options={this.props.userBaskets} value={found} styles={styles} onChange={this.props.handleSelect} isSearchable={false} theme={theme => ({...theme, borderRadius: \"10px\", colors: {...theme.colors, primary: \"var(--accent-1)\", primary25: \"var(--background-1)\", primary50: \"var(--text-1)\", primary75: \"var(--text-1)\", neutral0: \"var(--background-2)\", neutral80: \"var(--text-1)\"}})}/>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <div className=\"\" style={{height: \"min-content\"}}><button className=\"button b-save\" style={{height: \"min-content\"}} type=\"submit\" form=\"save\">Save</button></div>\r\n                        <div className=\"\"><button className=\"button b-close\" style={{background: \"none\"}} type=\"button\"onClick={this.props.handleClose}>Close</button></div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Modal;","import React, { Component } from 'react';\r\nimport ProductEmpty from \"./ProductEmpty\";\r\nimport ProductAdd from \"./ProductAdd\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport CircleLoader from \"react-spinners/CircleLoader\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport BasketRefinePC from \"./BasketRefinePC\";\r\nimport BasketRefineMobile from \"./BasketRefineMobile\";\r\nimport Modal from \"./Modal\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport { FaExclamationCircle } from 'react-icons/fa';\r\n\r\nclass BasketConfig extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loading: true,\r\n            reloading: false,\r\n            show: false,\r\n            showConfirm: false,\r\n            showError: false,\r\n            price: 0,\r\n\t\t\tcurrentUser: { username: \"\" },\r\n            products: [\r\n                {term: \"\",found: false, item: {url: \"\", shop: \"\", product_name: \"\", product_price: \"\", product_additionals: \"\"}}\r\n            ],\r\n            userBaskets:[],\r\n            refine: {\r\n                products: [],\r\n                shops: {\r\n                    asda : \"1\",\r\n                    coop: \"1\",\r\n                    tesco: \"1\",\r\n                    aldi: \"1\",\r\n                    sains: \"1\"\r\n                },\r\n                type:\"new\",\r\n                orderby: \"1\"\r\n            },\r\n            save: {\r\n                products: [],\r\n                type: \"\",\r\n                name: \"\",\r\n                user: { username: \"\" },\r\n                overwrite: \"\",\r\n                price: \"\"\r\n            }\r\n        };\r\n        this.submitRefiner = this.submitRefiner.bind(this);\r\n        this.handleSelect = this.handleSelect.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.removeSelf = this.removeSelf.bind(this);\r\n        this.saveBasket = this.saveBasket.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleShow = this.handleShow.bind(this);\r\n    }\r\n\r\n\r\n    callSaveAPI(){\r\n        fetch(\"https://eshopapi.ddns.net/api/basket/save\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.save)})\r\n        .then(res=> {\r\n            this.setState({showConfirm: true}, ()=>{\r\n                setTimeout(() => {this.setState({showConfirm: false})}, 5000)\r\n            })\r\n        })\r\n        .then(res=> this.callAPI());\r\n    }\r\n\r\n    callAPI(){\r\n        if(this.state.currentUser){\r\n            fetch(\"https://eshopapi.ddns.net/api/basket/get/all\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.currentUser)})\r\n            .then(res=> res.json())\r\n            .then(res => this.setState({ loading:false,reloading:false, userBaskets: res }));\r\n        }\r\n        else{\r\n            this.setState({ loading:false,reloading:false });\r\n        }\r\n    }\r\n\r\n    callFindAPI(){\r\n        \r\n        fetch(\"https://eshopapi.ddns.net/api/basket/find\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.refine)})\r\n        .then(res=> res.json())\r\n        .then(res => {\r\n            if(res.items === undefined){\r\n                let i = []\r\n                for(let x =0; x < this.state.refine.products.length; x++){\r\n                    i.push({term: this.state.refine.products[x],found: false, item: {url: \"\", shop: \"\", product_name: \"Something went wrong\", product_price: \"\", product_additionals: \"\"}})\r\n                }\r\n                this.setState({ loading:false,reloading:false, products: i, price: 0})\r\n            }\r\n            else{\r\n                this.setState({ loading:false,reloading:false, products: res.items, price: res.total })\r\n            }\r\n        });\r\n    }\r\n\r\n    handleClick(event){\r\n        let x = this.state.products;\r\n        x.push({term: \"\", found: false, item: {url: \"\", shop: \"\", product_name: \"\", product_price: \"\", product_additionals: \"\"}});\r\n        this.setState({products: x});\r\n        \r\n    }\r\n\r\n    handleSelect(selectedOption){\r\n        let x = selectedOption.value;\r\n        this.setState({ \r\n            save: {\r\n                products: this.state.products,\r\n                type: this.state.type,\r\n                name: this.state.name,\r\n                overwrite: x,\r\n                price: this.state.save.price\r\n            },\r\n        });\r\n    }\r\n\r\n    submitRefiner(event){\r\n        let form = event.target;\r\n        let terms = []\r\n        for(let i = 0; i < this.state.products.length; i++){\r\n            terms[i] = this.state.products[i].term;\r\n        }\r\n        let clear = true\r\n        for(let i = 1; i < 6; i++){\r\n            if (form[i].checked){\r\n                clear = false\r\n            }\r\n        }\r\n        this.setState({\r\n            refine: {\r\n                products: terms,\r\n                shops: {\r\n                    asda : form[1].checked ? 1 : 0,\r\n                    coop: form[5].checked ? 1 : 0,\r\n                    tesco: form[3].checked ? 1 : 0,\r\n                    aldi: form[2].checked ? 1 : 0,\r\n                    sains: form[4].checked ? 1 : 0\r\n                },\r\n                delivery: form[6].checked ? 1 : 0\r\n            },\r\n            reloading: true,\r\n            showError: clear\r\n        }, () =>{\r\n            if(!clear){\r\n                this.callFindAPI();\r\n            }\r\n            else{\r\n                this.setState({reloading: false})\r\n            }\r\n        });\r\n        event.preventDefault();\r\n    }\r\n    \r\n    removeSelf(item){\r\n        const prods = this.state.products;\r\n        if (item > -1) {\r\n            prods.splice(item, 1);\r\n        }\r\n\r\n        this.setState({products: prods});\r\n    }\r\n\r\n    saveBasket(event){\r\n        let form = event.target;\r\n        let type = \"\"\r\n        let name = \"\"\r\n        if(form[0].checked){\r\n            type = \"new\"\r\n            name = form[1].value\r\n        }\r\n        else if(form[2].checked){\r\n            type = \"overwrite\"\r\n        }\r\n        let x = [];\r\n        let prods = this.state.products\r\n        for(let i = 0; i< prods.length; i++){\r\n            let item = {term: prods[i].term, item: prods[i].item.url, shop: prods[i].item.shop}\r\n            x.push(item)\r\n        }\r\n        this.setState({\r\n            save: {\r\n                products: x,\r\n                type: type,\r\n                name: name,\r\n                user: this.state.currentUser,\r\n                overwrite: this.state.save.overwrite,\r\n                price: this.state.price\r\n            }\r\n        }, () =>{\r\n            this.callSaveAPI();\r\n            this.handleClose();\r\n            //this.callAPI();\r\n        });\r\n        event.preventDefault();\r\n    }\r\n\r\n    componentDidMount(){\r\n\t\tconst currentUser = AuthService.getCurrentUser();\r\n        this.setState({currentUser: currentUser}, ()=>{\r\n            this.callAPI();\r\n        });\r\n    }\r\n    \r\n    handleClose(){\r\n        this.setState({show: false});\r\n    }\r\n\r\n    handleShow(){\r\n        this.setState({show: true});\r\n    }\r\n\r\n    render() {\r\n        const { products, show, userBaskets } = this.state;\r\n        // Logic for displaying current products    \r\n        \r\n\r\n        let renderproducts = <p></p>;\r\n        try{\r\n            renderproducts = products.map((product , key) => {\r\n                return <ProductEmpty key={key} product={product} prodKey={key} removeSelf={this.removeSelf}/>;\r\n            });\r\n        }\r\n        catch{\r\n            renderproducts = <p>Oh No, something went very wrong, please reload</p>\r\n            this.setState({products: []})\r\n        }\r\n\r\n       \r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.loading}/>\r\n                \r\n                <Modal handleClose={this.handleClose} show={show} saveBasket={this.saveBasket} handleSelect={this.handleSelect} userBaskets={userBaskets}/>\r\n                <p className={this.state.loading ? '': 'hidden'} style={{textAlign: 'center'}}><br/>Loading</p>\r\n                <div className=\"browseProds\">\r\n                    <MediaQuery minWidth={1224}>\r\n                        <BasketRefinePC loading={this.state.loading} handleShow={this.handleShow} products={this.state.products.length} saveBasket={this.saveBasket} handleSelect={this.handleSelect} submitRefiner={this.submitRefiner}/>\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth={1224}>\r\n                        <BasketRefineMobile loading={this.state.loading} handleShow={this.handleShow} products={this.state.products.length} saveBasket={this.saveBasket} handleSelect={this.handleSelect} submitRefiner={this.submitRefiner}/>\r\n                    </MediaQuery>\r\n                    <ul className={this.state.loading ? 'hidden': 'xyz'}>\r\n                        <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.reloading}/>\r\n                        <div className={this.state.reloading ? 'hidden': 'disp-ro'}>\r\n                            {renderproducts}\r\n                            <ProductAdd handleClick={this.handleClick}/>\r\n                        </div>\r\n                    </ul>\r\n                </div>\r\n                <div className={this.state.reloading ? 'hidden': 'price-section'}>\r\n                    <p style={{width: \"max-content\", height: \"max-content\", margin: \"auto 0\"}}>Total Price: £{this.state.price}</p>\r\n                    <input type=\"submit\" value=\"Find Best Basket!\" className=\"button\" form=\"x1\" style={{width: \"max-content\", margin: \"auto 10pt auto auto\", height: \"max-content\"}}></input>\r\n                </div>\r\n                <div className={this.state.showError ? 'confirmation alert alert-danger': 'hidden'}><FaExclamationCircle/>No Shops Selected!</div>\r\n                <div className={this.state.showConfirm ? 'confirmation alert alert-success': 'hidden'}><FaExclamationCircle/>Basket Saved</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default BasketConfig;","import React, { Component } from 'react';\r\n\r\nclass Cookies extends Component {\r\n    state = {  }\r\n    render() { \r\n        return ( \r\n         <div style={{width: \"80%\", margin: \"0 auto \"}}>\r\n            <h1 style={{marginTop: \"20pt\"}}>Our use of cookies and similar technologies</h1>\r\n            <br/>\r\n            <p style={{fontSize: \"12pt\"}}>Our services use cookies and other similar technologies, such as local storage, to help provide you with a better, faster, and safer experience. Here are some of the ways that our website use these technologies: to log you in, save your preferences, personalize the content you see, and the layout of the system</p>\r\n            <h2>What are cookies and local storage?</h2>\r\n            <br/>\r\n            <p style={{fontSize: \"12pt\"}}>Cookies are small files that websites place on your computer as you browse the web. Like many websites, Twitter, Periscope, and our other services use cookies to discover how people are using our services and to make them work better.</p>\r\n            <p style={{fontSize: \"12pt\"}}>Local storage is an industry-standard technology that allows a website or application to store information locally on your computer or mobile device. We use local storage to customize what we show you based on your past interactions with our services.</p>\r\n            <h2>Why do our services use these technologies?</h2>\r\n            <p style={{fontSize: \"12pt\"}}>Our services use these technologies to deliver, measure, and improve our services in various ways. These uses generally fall into one of the following categories:</p>\r\n            <ul>\r\n                <li><b>Authentication and security:</b></li>\r\n                <ul>\r\n                    <li>To log you into Best Basket.</li>\r\n                    <li>To let you to view certain content.</li>\r\n                    <li>For example, these technologies help authenticate your access to Best Basket and prevent unauthorized parties from accessing your account.</li>\r\n                </ul>\r\n            </ul>\r\n            <ul>\r\n                <li><b>Preferences:</b></li>\r\n                <ul>\r\n                    <li>To remember information about your browser and your preferences.</li>\r\n                    <li>For example, cookies help to remember your cookie preferences and the colour scheme affecting the layout of the site for the next time your access Best Basket.</li>\r\n                </ul>\r\n            </ul>\r\n            <h2>Where are these technologies used?</h2>\r\n            <p style={{fontSize: \"12pt\"}}>These cookies are only used within the Best Basket website and are not shared outside your local machine.</p>\r\n            <br/>\r\n            <br/>\r\n            <br/>\r\n         </div>\r\n            );\r\n    }\r\n}\r\n \r\nexport default Cookies;","import React, { Component } from 'react';\r\nimport ProductEmpty from \"./ProductEmpty\";\r\nimport ProductAdd from \"./ProductAdd\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport CircleLoader from \"react-spinners/CircleLoader\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport BasketRefinePC from \"./BasketRefinePC\";\r\nimport BasketRefineMobile from \"./BasketRefineMobile\";\r\nimport Modal from \"./Modal\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport { FaExclamationCircle } from 'react-icons/fa';\r\n\r\nclass BasketConfig extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loading: true,\r\n            reloading: false,\r\n            showConfirm: false,\r\n            show: false,\r\n            price: 0,\r\n            basketID: {id: 0},\r\n\t\t\tcurrentUser: { username: \"\" },\r\n            products: [\r\n                {term: \"\",found: false, item: {url: \"\", shop: \"\", product_name: \"\", product_price: \"\", product_additionals: \"\"}}\r\n            ],\r\n            userBaskets:[],\r\n            refine: {\r\n                products: [],\r\n                shops: {\r\n                    asda : \"1\",\r\n                    coop: \"1\",\r\n                    tesco: \"1\",\r\n                    aldi: \"1\",\r\n                    sains: \"1\"\r\n                },\r\n                type:\"new\",\r\n                orderby: \"1\"\r\n            },\r\n            save: {\r\n                products: [],\r\n                type: \"\",\r\n                name: \"\",\r\n                user: { username: \"\" },\r\n                overwrite: \"\",\r\n                price: \"\"\r\n            }\r\n        };\r\n        this.submitRefiner = this.submitRefiner.bind(this);\r\n        this.handleSelect = this.handleSelect.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.removeSelf = this.removeSelf.bind(this);\r\n        this.saveBasket = this.saveBasket.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleShow = this.handleShow.bind(this);\r\n    }\r\n\r\n\r\n    callSaveAPI(){\r\n        fetch(\"https://eshopapi.ddns.net/api/basket/save\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.save)})\r\n        .then(res=> {\r\n            this.setState({showConfirm: true}, ()=>{\r\n                setTimeout(() => {this.setState({showConfirm: false})}, 5000)\r\n            })\r\n        })\r\n        .then(res=> this.updateBaskets());\r\n    }\r\n\r\n    updateBaskets(){\r\n        fetch(\"https://eshopapi.ddns.net/api/basket/get/all\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.currentUser)})\r\n        .then(res=> res.json())\r\n        .then(res => this.setState({userBaskets: res }))\r\n    }\r\n\r\n    callAPI(){\r\n        fetch(\"https://eshopapi.ddns.net/api/basket/get/all\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.currentUser)})\r\n        .then(res=> res.json())\r\n        .then(res => {\r\n            let price = 0;\r\n            for(let i = 0; i<res.length; i++){\r\n                if(res[i].value == this.state.basketID.id){\r\n                    price = res[i].price;\r\n                }\r\n            }\r\n            this.setState({userBaskets: res , price: price})\r\n        })\r\n        .then(res => {\r\n            fetch(\"https://eshopapi.ddns.net/api/basket/get\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.basketID)})\r\n            .then(res => res.json())\r\n            .then(res => this.setState({products: res, loading: false, reloading: false}));\r\n        });\r\n    }\r\n\r\n    callFindAPI(){\r\n        \r\n        fetch(\"https://eshopapi.ddns.net/api/basket/find\", {method: 'POST', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json'}, body: JSON.stringify(this.state.refine)})\r\n        .then(res=> res.json())\r\n        .then(res => {\r\n            if(res.items === undefined){\r\n                let i = []\r\n                for(let x =0; x < this.state.refine.products.length; x++){\r\n                    i.push({term: this.state.refine.products[x],found: false, item: {url: \"\", shop: \"\", product_name: \"Something went wrong\", product_price: \"\", product_additionals: \"\"}})\r\n                }\r\n                this.setState({ loading:false,reloading:false, products: i, price: 0})\r\n            }\r\n            else{\r\n                this.setState({ loading:false,reloading:false, products: res.items, price: res.total })\r\n            }\r\n        });\r\n    }\r\n\r\n    handleClick(event){\r\n        let x = this.state.products;\r\n        x.push({term: \"\", found: false, item: {url: \"\", shop: \"\", product_name: \"\", product_price: \"\", product_additionals: \"\"}});\r\n        this.setState({products: x});\r\n        \r\n    }\r\n\r\n    handleSelect(selectedOption){\r\n        let x = selectedOption.value;\r\n        this.setState({ \r\n            save: {\r\n                products: this.state.products,\r\n                type: this.state.type,\r\n                name: selectedOption.label,\r\n                overwrite: x,\r\n                price: this.state.save.price\r\n            },\r\n        });\r\n    }\r\n\r\n    submitRefiner(event){\r\n        let form = event.target;\r\n        let terms = []\r\n        for(let i = 0; i < this.state.products.length; i++){\r\n            terms[i] = this.state.products[i].term;\r\n        }\r\n        let clear = true\r\n        for(let i = 1; i < 6; i++){\r\n            if (form[i].checked){\r\n                clear = false\r\n            }\r\n        }\r\n        this.setState({\r\n            refine: {\r\n                products: terms,\r\n                shops: {\r\n                    asda : form[1].checked ? 1 : 0,\r\n                    coop: form[5].checked ? 1 : 0,\r\n                    tesco: form[3].checked ? 1 : 0,\r\n                    aldi: form[2].checked ? 1 : 0,\r\n                    sains: form[4].checked ? 1 : 0\r\n                },\r\n                delivery: form[6].checked ? 1 : 0\r\n            },\r\n            reloading: true,\r\n            showError: clear\r\n        }, () =>{\r\n            if(!clear){\r\n                this.callFindAPI();\r\n            }\r\n            else{\r\n                this.setState({reloading: false})\r\n            }\r\n        });\r\n        event.preventDefault();\r\n    }\r\n    \r\n    removeSelf(item){\r\n        const prods = this.state.products;\r\n        if (item > -1) {\r\n            prods.splice(item, 1);\r\n        }\r\n\r\n        this.setState({products: prods});\r\n    }\r\n\r\n    saveBasket(event){\r\n        let form = event.target;\r\n        let type = \"\"\r\n        let name = \"\"\r\n        if(form[0].checked){\r\n            type = \"new\"\r\n            name = form[1].value\r\n        }\r\n        else if(form[2].checked){\r\n            type = \"overwrite\";\r\n            name = this.state.save.name;\r\n        }\r\n        let x = [];\r\n        let prods = this.state.products\r\n        for(let i = 0; i< prods.length; i++){\r\n            let item = {term: prods[i].term, item: prods[i].item.url, shop: prods[i].item.shop}\r\n            x.push(item)\r\n        }\r\n        this.setState({\r\n            save: {\r\n                products: x,\r\n                type: type,\r\n                name: name,\r\n                user: this.state.currentUser,\r\n                overwrite: this.state.save.overwrite,\r\n                price: this.state.price\r\n            },\r\n        }, () =>{\r\n            this.callSaveAPI();\r\n            this.handleClose();\r\n        });\r\n        event.preventDefault();\r\n    }\r\n\r\n    componentDidMount(){\r\n\t\tconst currentUser = AuthService.getCurrentUser();\r\n        let savepre = this.state.save;\r\n        savepre.overwrite = this.props.match.params.id\r\n        this.setState({currentUser: currentUser, basketID: {id: this.props.match.params.id}, save: savepre}, ()=>{\r\n            this.callAPI();\r\n        });\r\n    }\r\n\r\n    handleClose(){\r\n        this.setState({show: false});\r\n    }\r\n\r\n    handleShow(){\r\n        this.setState({show: true});\r\n    }\r\n\r\n    render() {\r\n        const { products, show, userBaskets } = this.state;\r\n        // Logic for displaying current products    \r\n        let renderproducts = <p></p>;\r\n        try{\r\n            renderproducts = products.map((product , key) => {\r\n                return <ProductEmpty key={key} product={product} prodKey={key} removeSelf={this.removeSelf}/>;\r\n            });\r\n        }\r\n        catch{\r\n            renderproducts = <p>Oh No, something went very wrong, please reload</p>\r\n        }\r\n       \r\n        return (\r\n            <div style={{width:\"100%\"}}>\r\n                <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.loading}/>\r\n                \r\n                <Modal handleClose={this.handleClose} overwrite={this.props.match.params.id} show={show} saveBasket={this.saveBasket} handleSelect={this.handleSelect} userBaskets={userBaskets}/>\r\n                <p className={this.state.loading ? '': 'hidden'} style={{textAlign: 'center'}}><br/>Loading</p>\r\n                <div className=\"browseProds\">\r\n                    <MediaQuery minWidth={1224}>\r\n                        <BasketRefinePC loading={this.state.loading} handleShow={this.handleShow} products={this.state.products.length} saveBasket={this.saveBasket} handleSelect={this.handleSelect} submitRefiner={this.submitRefiner}/>\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth={1224}>\r\n                        <BasketRefineMobile handleShow={this.handleShow} loading={this.state.loading} products={this.state.products.length} handleSelect={this.handleSelect} submitRefiner={this.submitRefiner}/>\r\n                    </MediaQuery>\r\n                    <ul className={this.state.loading ? 'hidden': 'xyz'}>\r\n                        <CircleLoader css={\"display: block;margin: 0 auto;border-color: red;\"} size={150} color={\"var(--accent-1)\"} loading={this.state.reloading}/>\r\n                        <div className={this.state.reloading ? 'hidden': ''}>\r\n                            {renderproducts}\r\n                            <ProductAdd handleClick={this.handleClick}/>\r\n                        </div>\r\n                    </ul>\r\n                </div>\r\n                <div className={this.state.reloading ? 'hidden': 'price-section'}>\r\n                    <p style={{width: \"max-content\", height: \"max-content\", margin: \"auto 0\"}}>Total Price: £{this.state.price}</p>\r\n                    <input type=\"submit\" value=\"Find Best Basket!\" className=\"button\" form=\"x1\" style={{width: \"max-content\", margin: \"auto 10pt auto auto\", height: \"max-content\"}}></input>\r\n                </div>\r\n                <div className={this.state.showError ? 'confirmation alert alert-danger': 'hidden'}><FaExclamationCircle/>No Shops Selected!</div>\r\n                <div className={this.state.showConfirm ? 'confirmation alert alert-success': 'hidden'}><FaExclamationCircle/>Basket Saved</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default BasketConfig;","import React, { Component } from \"react\";\r\nimport { Switch, Route, Link, Redirect } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.css\";\r\nimport AuthService from \"./services/auth.service\";\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport Login from \"./components/login.component\";\r\nimport Register from \"./components/register.component\";\r\nimport Home from \"./components/home.component\";\r\nimport Profile from \"./components/profile.component\";\r\nimport BoardUser from \"./components/board-user.component\";\r\nimport Browse from \"./components/Browse\";\r\nimport SearchResult from \"./components/SearchResult\";\r\nimport NotFound from \"./components/NotFound\";\r\nimport Settings from \"./components/Settings\";\r\nimport NavPC from \"./components/NavPC\";\r\nimport NavMobile from \"./components/NavMobile\";\r\nimport NavMobile2 from \"./components/NavMobile2\";\r\nimport About from \"./components/About\";\r\nimport BasketConfig from \"./components/BasketConfig\";\r\nimport Cookies from \"./components/Cookies\";\r\nimport BasketLoad from \"./components/BasketLoad\";\r\nimport ToPrev from \"./components/ToPrev\";\r\nconst queryString = require('query-string')\r\n\r\nclass App extends Component {\r\n  \tconstructor(props) {\r\n    \tsuper(props);\r\n    \tthis.logOut = this.logOut.bind(this);\r\n    \tthis.notSearch = this.notSearch.bind(this);\r\n    \tthis.search = this.search.bind(this);\r\n\r\n    \tthis.state = {\r\n\t\t\t  currentUser: undefined,\r\n\t\t\t  search: \"\",\r\n\t\t\t  open: true,\r\n\t\t\t  cookies: \"false\"\r\n\t\t};\r\n\t\tthis.toggleMenu = this.toggleMenu.bind(this);\r\n\t\tthis.getLogo = this.getLogo.bind(this);\r\n\t\tthis.hideCookies = this.hideCookies.bind(this);\r\n  \t}\r\n\r\n  \tcomponentDidMount() {\r\n    \tconst user = AuthService.getCurrentUser();\r\n\t\tthis.getTheme();\r\n\t\tthis.getLogo();\r\n\t\tthis.getCookies();\r\n\r\n\t\tif(window.location.pathname === \"/\" || window.location.pathname === \"/home\"){\r\n\t\t\tthis.setState({search: \"Search\"})\r\n\t\t}\r\n    \tif (user) {\r\n      \t\tthis.setState({\r\n        \t\tcurrentUser: user\r\n      \t\t});\r\n    \t}\r\n\t}\r\n\r\n\tnotSearch(){\r\n\t\tthis.setState({search: \"\"});\r\n\t\tif(this.state.open === false){\r\n\t\t\tthis.toggleMenu()\r\n\t\t}\r\n\t}\r\n\r\n\tgetTheme(){\r\n\t\tlet x = localStorage.getItem(\"theme\");\r\n\t\tif(x === null){\r\n\t\t\tdocument.documentElement.setAttribute('data-theme', 'light');\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdocument.documentElement.setAttribute('data-theme', x);\r\n\t\t}\r\n\t}\r\n\thideCookies(){\r\n\t\tthis.setState({cookies: \"true\"});\r\n\t\tlocalStorage.setItem(\"cookies\", \"true\")\r\n\t}\r\n\tgetCookies(){\r\n\t\tlet x = localStorage.getItem(\"cookies\");\r\n\t\tif(x === null){\r\n\t\t\tthis.setState({cookies: \"false\"})\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.setState({cookies: x})\r\n\t\t}\r\n\t}\r\n\r\n\tgetLogo(){\r\n        let x = localStorage.getItem(\"theme\");\r\n\t\tif(x === \"dark\"){\r\n\t\t\tdocument.getElementsByClassName(\"navbar-brand\")[0].children[0].src = \"https://bestbasket.ddns.net/eshoplogodark.png\"\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdocument.getElementsByClassName(\"navbar-brand\")[0].children[0].src = \"https://bestbasket.ddns.net/eshoplogolight.png\"\r\n\t\t}\r\n    }\r\n\t\r\n\tsearch(){\r\n\t\tthis.setState({search: \"Search\"});\r\n\t\tif(this.state.open === false){\r\n\t\t\tthis.toggleMenu()\r\n\t\t}\r\n\t}\r\n\r\n  \tlogOut() {\r\n\t\tif(this.state.open === false){\r\n\t\t\tthis.toggleMenu()\r\n\t\t}\r\n\t\tthis.setState({search: \"\"});\r\n\t\tAuthService.logout();\r\n  \t}\r\n\r\n\ttoggleMenu(){\r\n        if(this.state.open){\r\n            this.setState({open: false})\r\n        }\r\n        else{\r\n            this.setState({open: true})\r\n        }\r\n    }\r\n\r\n  \trender() {\r\n\t\tconst { currentUser } = this.state;\r\n\t\treturn (\r\n\t\t\t<div style={{height: \"100vh\",display: \"flex\",flexDirection: \"column\"}} className={this.state.open ? \"\" : \"hide-content\"}>\r\n\t\t\t\t<nav className=\"navbar navbar-expand navcolour\">\r\n\t\t\t\t\t<MediaQuery minWidth={1224}>\r\n\t\t\t\t\t\t<NavPC  currentUser={currentUser} getLogo={this.getLogo} logOut={this.logOut} notSearch={this.notSearch} search={this.search}/>\r\n                    </MediaQuery>\r\n                    <MediaQuery maxWidth={1224}>\r\n                        <NavMobile2 currentUser={currentUser} getLogo={this.getLogo} open={this.state.open} toggleMenu={this.toggleMenu}  notSearch={this.notSearch} search={this.search}/>\r\n                    </MediaQuery>\r\n\t\t\t\t</nav>\r\n                <MediaQuery maxWidth={1224}>\r\n                        <NavMobile currentUser={currentUser} open={this.state.open} logOut={this.logOut} notSearch={this.notSearch} search={this.search}/>\r\n                </MediaQuery>\r\n\t\t\t\t<div className={this.state.search} style={{display: \"flex\", flexGrow: \"2\", justifyContent: \"center\"}}>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path={[\"/\", \"/home\"]} render={props => <Home notSearch={this.notSearch} history={props.history} location={props.location} match={props.match} />}/>\r\n\t\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\r\n\t\t\t\t\t\t<Route exact path=\"/register\" component={Register} />\r\n\t\t\t\t\t\t<Route path=\"/search/:term\" component={SearchResult} />\r\n\t\t\t\t\t\t<Route exact path=\"/profile\" component={Profile} />\r\n\t\t\t\t\t\t<Route exact path=\"/settings\" render={props => <Settings getLogo={this.getLogo}/>}/>\r\n\t\t\t\t\t\t<Route path=\"/user\" component={BoardUser} />\r\n\t\t\t\t\t\t<Route path=\"/browse\" component={Browse} />\r\n\t\t\t\t\t\t<Route path=\"/about\" component={About} />\r\n\t\t\t\t\t\t<Route path=\"/basket/:id\" component={BasketLoad} />\r\n\t\t\t\t\t\t<Route path=\"/basket\" component={BasketConfig} />\r\n\t\t\t\t\t\t<Route path=\"/cookies\" component={Cookies} />\r\n\t\t\t\t\t\t<Route component={NotFound} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t\t{(this.state.cookies === \"true\")? null : \r\n\t\t\t\t\t<div style={{position: \"fixed\", height: \"60pt\", width: \"100%\", bottom: \"0\", zIndex: \"9\", backgroundColor: \"var(--background-2)\", display:\"flex\"}}>\r\n\t\t\t\t\t\t<div style={{display: \"flex\", justifyContent: \"center\", flexDirection:\"column\"}}>\r\n\t\t\t\t\t\t\t<p style={{height:\"min-content\", marginBottom: \"0\", marginLeft:\"10pt\", fontSize: \"10pt\"}}>By using Best Basket, you accept the use of cookies on this browser.</p>\r\n\t\t\t\t\t\t\t<p style={{height:\"min-content\", marginBottom: \"0\", marginLeft:\"10pt\", fontSize: \"10pt\"}}>You can read more in our <Link to={\"/cookies\"} className=\"nav-link\" onClick={this.notSearch} style={{display: \"inline\", padding: \"0\", textDecoration: \"underline\"}}>Cookie Policy</Link>.</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{marginLeft: \"auto\", display: \"flex\", justifyContent: \"center\", flexDirection:\"column\"}}>\r\n\t\t\t\t\t\t\t<button className=\"button b-alt\" onClick={this.hideCookies} style={{height:\"min-content\", marginRight: \"10pt\"}}>Close</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\n\r\nclass ToPrev extends Component {\r\n    state = {  }\r\n    render() { \r\n        const pathname= \"/\"+ this.props.match.params.term\r\n        console.log(pathname)\r\n        return ( <Redirect to={{pathname: pathname}}/> );\r\n    }\r\n}\r\n \r\nexport default ToPrev;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}